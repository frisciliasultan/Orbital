{"ast":null,"code":"var _jsxFileName = \"/Users/frisciliasultan/Documents/Orbital/client/src/Pages/Module Planner Page/Rules.jsx\";\nimport React from 'react';\nimport { Card, Spinner, Button } from 'react-bootstrap';\nimport Subrule from './SubruleLoading';\n\nclass Rules extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.callBackendAPI = async () => {\n      this.setState({\n        isLoading: true\n      });\n      const response = await fetch('https://api.nusmods.com/v2/2019-2020/moduleInfo.json', {\n        'accept': 'application/json'\n      });\n      const body = await response.json();\n\n      if (response.status !== 200) {\n        throw Error(body.message);\n      }\n\n      console.log(body);\n      return body;\n    };\n\n    this.state = {\n      isLoading: false,\n      rules: null\n    };\n    this.generateRules = this.generateRules.bind(this);\n  }\n\n  componentDidMount() {\n    // Call our fetch function below once the component mounts\n    this.callBackendAPI().then(res => this.setState({\n      rules: res\n    })).then(this.setState({\n      isLoading: false\n    })).catch(err => console.log(err));\n  } // Fetches our GET route from the Express server. (Note the route we are fetching matches the GET route from server.js\n\n\n  // cons t request = {\n  //     method: 'POST',\n  //     mode: 'no-cors',\n  //     headers: {\n  //       'Accept': 'application/json',\n  //       'Content-type': 'application/json'\n  //       },\n  //     body: JSON.stringify ({\n  //       username: this.props.username,\n  //       userCourse: { major: [{name: this.props.major,\n  //                               spec: this.props.speialisation}],\n  //                     minor: [],\n  //                     residence: [this.props.residence]\n  //                   }\n  //       })\n  //   };\n  //   const response = await fetch('http://172.31.21.121:5000/', request)\n  //       .then(async response => {\n  //         const data = await response.json();\n  //          // check for error response\n  //          if (!response.ok) {\n  //           // get error message from body or default to response status\n  //           throw new Error(data.message)\n  //         }\n  //         return data;\n  //       })\n  //       .then(data => console.log(data))\n  //     .catch(error => {\n  //       alert('nooope');\n  //       console.error('There was an error!', error);\n  //   });\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: this.handleonClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }\n    }, \"Evaluate\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Subrule, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }\n    }));\n  }\n\n}\n\nexport default Rules;","map":{"version":3,"sources":["/Users/frisciliasultan/Documents/Orbital/client/src/Pages/Module Planner Page/Rules.jsx"],"names":["React","Card","Spinner","Button","Subrule","Rules","Component","constructor","props","callBackendAPI","setState","isLoading","response","fetch","body","json","status","Error","message","console","log","state","rules","generateRules","bind","componentDidMount","then","res","catch","err","render","handleonClick"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,EAAeC,OAAf,EAAwBC,MAAxB,QAAsC,iBAAtC;AACA,OAAOC,OAAP,MAAoB,kBAApB;;AAEA,MAAMC,KAAN,SAAoBL,KAAK,CAACM,SAA1B,CAAoC;AAChCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAiBnBC,cAjBmB,GAiBF,YAAY;AAC3B,WAAKC,QAAL,CAAc;AAACC,QAAAA,SAAS,EAAE;AAAZ,OAAd;AACA,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,sDAAD,EAAyD;AAAC,kBAAU;AAAX,OAAzD,CAA5B;AACA,YAAMC,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;;AAEA,UAAIH,QAAQ,CAACI,MAAT,KAAoB,GAAxB,EAA6B;AAC3B,cAAMC,KAAK,CAACH,IAAI,CAACI,OAAN,CAAX;AACD;;AACDC,MAAAA,OAAO,CAACC,GAAR,CAAYN,IAAZ;AACA,aAAOA,IAAP;AACD,KA3BkB;;AAEf,SAAKO,KAAL,GAAa;AACGV,MAAAA,SAAS,EAAE,KADd;AAEGW,MAAAA,KAAK,EAAE;AAFV,KAAb;AAIA,SAAKC,aAAL,GAAqB,KAAKA,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAArB;AACH;;AAEDC,EAAAA,iBAAiB,GAAG;AAChB;AACF,SAAKhB,cAAL,GACGiB,IADH,CACQC,GAAG,IAAI,KAAKjB,QAAL,CAAc;AAAEY,MAAAA,KAAK,EAAEK;AAAT,KAAd,CADf,EAEGD,IAFH,CAEQ,KAAKhB,QAAL,CAAc;AAACC,MAAAA,SAAS,EAAE;AAAZ,KAAd,CAFR,EAGGiB,KAHH,CAGSC,GAAG,IAAIV,OAAO,CAACC,GAAR,CAAYS,GAAZ,CAHhB;AAID,GAhB+B,CAiB9B;;;AAaF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAIAC,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAE,KAAKC,aAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADA,eAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFA,eAGA,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHA,CADJ;AAOH;;AA3E+B;;AA8EpC,eAAe1B,KAAf","sourcesContent":["import React from 'react';\nimport { Card, Spinner, Button } from 'react-bootstrap';\nimport Subrule from './SubruleLoading';\n\nclass Rules extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n                        isLoading: false,\n                        rules: null,\n                     }\n        this.generateRules = this.generateRules.bind(this);\n    }\n\n    componentDidMount() {\n        // Call our fetch function below once the component mounts\n      this.callBackendAPI()\n        .then(res => this.setState({ rules: res }))\n        .then(this.setState({isLoading: false}))\n        .catch(err => console.log(err));\n    }\n      // Fetches our GET route from the Express server. (Note the route we are fetching matches the GET route from server.js\n    callBackendAPI = async () => {\n      this.setState({isLoading: true})\n      const response = await fetch('https://api.nusmods.com/v2/2019-2020/moduleInfo.json', {'accept': 'application/json'});\n      const body = await response.json();\n    \n      if (response.status !== 200) {\n        throw Error(body.message) \n      }\n      console.log(body);\n      return body;\n    };\n    \n    // cons t request = {\n    //     method: 'POST',\n    //     mode: 'no-cors',\n    //     headers: {\n    //       'Accept': 'application/json',\n    //       'Content-type': 'application/json'\n    //       },\n    //     body: JSON.stringify ({\n    //       username: this.props.username,\n    //       userCourse: { major: [{name: this.props.major,\n    //                               spec: this.props.speialisation}],\n    //                     minor: [],\n    //                     residence: [this.props.residence]\n    //                   }\n    //       })\n    //   };\n      \n    //   const response = await fetch('http://172.31.21.121:5000/', request)\n    //       .then(async response => {\n    //         const data = await response.json();\n    //          // check for error response\n    //          if (!response.ok) {\n    //           // get error message from body or default to response status\n    //           throw new Error(data.message)\n    //         }\n  \n    //         return data;\n    //       })\n    //       .then(data => console.log(data))\n  \n    //     .catch(error => {\n    //       alert('nooope');\n    //       console.error('There was an error!', error);\n    //   });\n\n   \n\n    render() {\n        return (\n            <div>\n            <Button onClick={this.handleonClick}>Evaluate</Button>\n            <br/>\n            <Subrule/>\n            </div>\n        )\n    }\n}\n\nexport default Rules;\n"]},"metadata":{},"sourceType":"module"}