{"ast":null,"code":"var _jsxFileName = \"/Users/frisciliasultan/Documents/Orbital/client/src/Pages/Module Planner Page/SubruleLoading.jsx\";\nimport React from \"react\";\nimport { Card, Spinner } from \"react-bootstrap\";\n\nclass Subrule extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: false\n    };\n  }\n\n  async callBackendFunc(ruleTag) {\n    const link = \"http://localhost:5000/rules/\" + ruleTag;\n    const requestOptions = {\n      method: 'POST',\n      mode: 'no-cors',\n      headers: {\n        'Content-Type': 'application/json',\n        'accept': 'application/json'\n      },\n      body: JSON.stringify({\n        modules: this.state.modulesSelected\n      })\n    };\n    this.setState({\n      isLoading: true\n    });\n    await fetch(link, requestOptions).then(async response => {\n      const status = await response.json();\n\n      if (!response.ok) {\n        throw new Error(\"An error has occurred\");\n      }\n\n      return status;\n    }).then(status => {\n      this.setState({\n        status: status,\n        isLoading: false\n      });\n    }).catch(error => {\n      alert('nooope');\n      this.setState({\n        errorMessage: error.toString(),\n        isLoading: false\n      });\n      console.error('There was an error!', error);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Card.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 25\n      }\n    }, this.props.ruleName), this.props.isLoading && /*#__PURE__*/React.createElement(Spinner, {\n      animation: \"border\",\n      variant: \"success\",\n      role: \"status\",\n      as: \"span\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 50\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 29\n      }\n    }, \"Loading...\")), this.props.callBackendNow && this.callBackendFunc(this.props.ruleTag));\n  }\n\n}\n\nexport default Subrule;","map":{"version":3,"sources":["/Users/frisciliasultan/Documents/Orbital/client/src/Pages/Module Planner Page/SubruleLoading.jsx"],"names":["React","Card","Spinner","Subrule","Component","constructor","props","state","isLoading","callBackendFunc","ruleTag","link","requestOptions","method","mode","headers","body","JSON","stringify","modules","modulesSelected","setState","fetch","then","response","status","json","ok","Error","catch","error","alert","errorMessage","toString","console","render","ruleName","callBackendNow"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,EAAeC,OAAf,QAA8B,iBAA9B;;AAEA,MAAMC,OAAN,SAAsBH,KAAK,CAACI,SAA5B,CAAsC;AAClCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AAAGC,MAAAA,SAAS,EAAE;AAAd,KAAb;AAIH;;AAED,QAAMC,eAAN,CAAsBC,OAAtB,EAA+B;AAC3B,UAAMC,IAAI,GAAG,iCAAiCD,OAA9C;AACA,UAAME,cAAc,GAAG;AACnBC,MAAAA,MAAM,EAAE,MADW;AAEnBC,MAAAA,IAAI,EAAE,SAFa;AAGnBC,MAAAA,OAAO,EAAE;AAAE,wBAAgB,kBAAlB;AACG,kBAAU;AADb,OAHU;AAMnBC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAACC,QAAAA,OAAO,EAAE,KAAKZ,KAAL,CAAWa;AAArB,OAAf;AANa,KAAvB;AAQA,SAAKC,QAAL,CAAc;AAACb,MAAAA,SAAS,EAAE;AAAZ,KAAd;AAEA,UAAMc,KAAK,CAACX,IAAD,EAAOC,cAAP,CAAL,CACDW,IADC,CACI,MAAMC,QAAN,IAAkB;AACpB,YAAMC,MAAM,GAAG,MAAMD,QAAQ,CAACE,IAAT,EAArB;;AAEA,UAAG,CAACF,QAAQ,CAACG,EAAb,EAAiB;AACb,cAAM,IAAIC,KAAJ,CAAU,uBAAV,CAAN;AACH;;AAED,aAAOH,MAAP;AACH,KATC,EAUDF,IAVC,CAUKE,MAAM,IAAI;AACb,WAAKJ,QAAL,CAAc;AAACI,QAAAA,MAAM,EAAEA,MAAT;AACEjB,QAAAA,SAAS,EAAE;AADb,OAAd;AAEH,KAbC,EAcDqB,KAdC,CAcKC,KAAK,IAAI;AACNC,MAAAA,KAAK,CAAC,QAAD,CAAL;AACA,WAAKV,QAAL,CAAc;AAAEW,QAAAA,YAAY,EAAEF,KAAK,CAACG,QAAN,EAAhB;AACEzB,QAAAA,SAAS,EAAE;AADb,OAAd;AAGA0B,MAAAA,OAAO,CAACJ,KAAR,CAAc,qBAAd,EAAqCA,KAArC;AACH,KApBL,CAAN;AAsBH;;AAEDK,EAAAA,MAAM,GAAG;AACL,wBAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAa,KAAK7B,KAAL,CAAW8B,QAAxB,CADJ,EAEK,KAAK9B,KAAL,CAAWE,SAAX,iBAAwB,oBAAC,OAAD;AAAS,MAAA,SAAS,EAAC,QAAnB;AAA4B,MAAA,OAAO,EAAC,SAApC;AAA8C,MAAA,IAAI,EAAC,QAAnD;AAA4D,MAAA,EAAE,EAAC,MAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACrB;AAAM,MAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADqB,CAF7B,EAKK,KAAKF,KAAL,CAAW+B,cAAX,IAA6B,KAAK5B,eAAL,CAAqB,KAAKH,KAAL,CAAWI,OAAhC,CALlC,CAAZ;AASH;;AAvDiC;;AA0DtC,eAAeP,OAAf","sourcesContent":["import React from \"react\";\nimport { Card, Spinner } from \"react-bootstrap\";\n\nclass Subrule extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {  isLoading: false,\n                        \n                     }\n\n    }\n\n    async callBackendFunc(ruleTag) {\n        const link = \"http://localhost:5000/rules/\" + ruleTag;\n        const requestOptions = {\n            method: 'POST',\n            mode: 'no-cors',\n            headers: { 'Content-Type': 'application/json',\n                        'accept': 'application/json'            \n            },\n            body: JSON.stringify({modules: this.state.modulesSelected})\n        };\n        this.setState({isLoading: true});\n\n        await fetch(link, requestOptions)\n            .then(async response => {\n                const status = await response.json();\n\n                if(!response.ok) {\n                    throw new Error(\"An error has occurred\")\n                }\n\n                return status;\n            })\n            .then (status => {\n                this.setState({status: status,\n                                isLoading: false})\n            })\n            .catch(error => {\n                      alert('nooope');\n                      this.setState({ errorMessage: error.toString(),\n                                      isLoading: false\n                        });\n                      console.error('There was an error!', error);\n                  });\n\n    }\n\n    render() {\n        return (    <div>\n                        <Card.Title>{this.props.ruleName}</Card.Title>\n                        {this.props.isLoading && <Spinner animation=\"border\" variant=\"success\" role=\"status\" as=\"span\">\n                            <span className=\"sr-only\">Loading...</span>\n                        </Spinner>}\n                        {this.props.callBackendNow && this.callBackendFunc(this.props.ruleTag)}\n                    </div>\n                )\n        \n    }\n}\n\nexport default Subrule;"]},"metadata":{},"sourceType":"module"}