{"ast":null,"code":"var _jsxFileName = \"/Users/frisciliasultan/Documents/Orbital/client/src/Pages/Login/Register.js\";\nimport React, { useReducer, useEffect } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { registerUser, loginUser } from \"../../actions/authActions\";\nimport classnames from \"classnames\";\nimport Facebook from \"./Facebook\";\nimport Google from \"./Google\";\n\nconst Register = props => {\n  const [userInput, setUserInput] = useReducer((state, newState) => ({ ...state,\n    ...newState\n  }), {\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    password2: \"\",\n    errors: {}\n  });\n  useEffect(() => {\n    if (props.errors) {\n      setUserInput({\n        errors: props.errors\n      });\n    }\n  }, [props.errors]);\n  useEffect(() => {\n    if (props.auth.firstTimeRegistered) {\n      if (!props.auth.isAuthenticated) {\n        const userData = {\n          email: userInput.email,\n          password: userInput.password\n        };\n        props.loginUser(userData, true, false);\n      } else if (!props.auth.loading) {\n        props.history.push('/settings/academics');\n      }\n    }\n  }, [props.auth.loading]);\n\n  const onChange = e => {\n    const {\n      id,\n      value\n    } = e.target;\n    setUserInput({\n      [id]: value\n    });\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n    const newUser = {\n      name: this.state.name,\n      email: this.state.email,\n      password: this.state.password,\n      password2: this.state.password2\n    };\n    this.props.registerUser(newUser, false);\n  };\n\n  const {\n    errors\n  } = userInput;\n  return /*#__PURE__*/React.createElement(\"form\", {\n    noValidate: true,\n    onSubmit: this.onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, \"Create Account\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"social-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Facebook, {\n    source: \"register\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(Google, {\n    source: \"register\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#\",\n    class: \"social\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"fab fa-instagram\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 46\n    }\n  }))), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, \"or use your email for registration\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: this.onChange,\n    value: this.state.name,\n    error: errors.name,\n    id: \"name\",\n    type: \"text\",\n    placeholder: \"Name\",\n    className: classnames(\"\", {\n      invalid: errors.name\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, errors.name), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: this.onChange,\n    value: this.state.email,\n    error: errors.email,\n    id: \"email\",\n    type: \"email\",\n    placeholder: \"Email\",\n    className: classnames(\"\", {\n      invalid: errors.email\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }, errors.email), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: this.onChange,\n    value: this.state.password,\n    error: errors.password,\n    id: \"password\",\n    type: \"password\",\n    placeholder: \"Password\",\n    className: classnames(\"\", {\n      invalid: errors.password\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }\n  }, errors.password), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: this.onChange,\n    value: this.state.password2,\n    error: errors.password2,\n    id: \"password2\",\n    type: \"password\",\n    placeholder: \"Confirm Password\",\n    className: classnames(\"\", {\n      invalid: errors.password2\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }\n  }, errors.password2), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 17\n    }\n  }, \"Sign Up\"));\n};\n\nRegister.propTypes = {\n  loginUser: PropTypes.func.isRequired,\n  registerUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  errors: state.errors\n});\n\nexport default connect(mapStateToProps, {\n  registerUser,\n  loginUser\n})(withRouter(Register));","map":{"version":3,"sources":["/Users/frisciliasultan/Documents/Orbital/client/src/Pages/Login/Register.js"],"names":["React","useReducer","useEffect","Link","withRouter","PropTypes","connect","registerUser","loginUser","classnames","Facebook","Google","Register","props","userInput","setUserInput","state","newState","name","email","password","password2","errors","auth","firstTimeRegistered","isAuthenticated","userData","loading","history","push","onChange","e","id","value","target","onSubmit","preventDefault","newUser","invalid","color","propTypes","func","isRequired","object","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { useReducer, useEffect } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { registerUser, loginUser } from \"../../actions/authActions\";\nimport classnames from \"classnames\";\nimport Facebook from \"./Facebook\";\nimport Google from \"./Google\";\n\nconst Register = (props) => {\n\n  const [userInput, setUserInput] = useReducer(\n    (state, newState) => ({...state, ...newState}),\n    {\n      name: \"\",\n          email: \"\",\n          password: \"\",\n          password2: \"\",\n          errors: {}\n    }\n  );\n  \n  useEffect(() => {\n    if (props.errors) {\n      setUserInput({errors: props.errors})\n    }\n  }, [props.errors]);\n\n  useEffect(() => {\n    if(props.auth.firstTimeRegistered) {\n      if(!props.auth.isAuthenticated) {\n        const userData = {\n          email: userInput.email,\n          password: userInput.password\n        };  \n        props.loginUser(userData, true, false)\n      } \n       else if (!props.auth.loading) {\n        props.history.push('/settings/academics');\n      }\n    }\n  }, [props.auth.loading])\n\n    const onChange = e => {\n      const { id, value } = e.target; \n      setUserInput({[id]: value});\n    };\n\n\n    const onSubmit = e => {\n      e.preventDefault();\n      const newUser = {\n        name: this.state.name,\n        email: this.state.email,\n        password: this.state.password,\n        password2: this.state.password2\n        }; \n        this.props.registerUser(newUser, false); \n    };\n\n\n\n      const { errors } = userInput;\n        return (\n            <form noValidate onSubmit={this.onSubmit}>\n                <h1>Create Account</h1>\n                <div className=\"social-container\">\n                  <Facebook source=\"register\"/>\n                  <Google source=\"register\"/>\n                  <a href=\"#\" class=\"social\"><i class=\"fab fa-instagram\"></i></a>\n                </div>\n                <span>or use your email for registration</span>\n                \n                <input\n                  onChange={this.onChange}\n                  value={this.state.name}\n                  error={errors.name}\n                  id=\"name\"\n                  type=\"text\"\n                  placeholder=\"Name\"\n                  className={classnames(\"\", {\n                    invalid: errors.name\n                  })}\n                />\n                <span style={{color: \"red\"}}>{errors.name}</span>\n                \n                <input\n                  onChange={this.onChange}\n                  value={this.state.email}\n                  error={errors.email}\n                  id=\"email\"\n                  type=\"email\"\n                  placeholder=\"Email\"\n                  className={classnames(\"\", {\n                    invalid: errors.email\n                  })}\n                />\n                <span style={{color: \"red\"}}>{errors.email}</span>\n\n                <input\n                  onChange={this.onChange}\n                  value={this.state.password}\n                  error={errors.password}\n                  id=\"password\"\n                  type=\"password\"\n                  placeholder=\"Password\"\n                  className={classnames(\"\", {\n                    invalid: errors.password\n                  })}\n                />\n                <span style={{color: \"red\"}}>{errors.password}</span>\n\n                <input\n                  onChange={this.onChange}\n                  value={this.state.password2}\n                  error={errors.password2}\n                  id=\"password2\"\n                  type=\"password\"\n                  placeholder=\"Confirm Password\"\n                  className={classnames(\"\", {\n                    invalid: errors.password2\n                  })}\n                />\n                <span style={{color: \"red\"}}>{errors.password2}</span>\n\n                <button type=\"submit\" >Sign Up</button>\n            </form>\n       );\n    \n}\n\nRegister.propTypes = {\n  loginUser: PropTypes.func.isRequired,\n  registerUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  errors: state.errors\n});\n\nexport default connect(\n  mapStateToProps,\n  { registerUser, loginUser }\n)(withRouter(Register));"]},"metadata":{},"sourceType":"module"}