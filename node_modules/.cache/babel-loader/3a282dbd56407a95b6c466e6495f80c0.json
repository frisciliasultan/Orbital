{"ast":null,"code":"var _jsxFileName = \"/Users/frisciliasultan/Documents/Orbital/client/src/Pages/Module Planner Page/ModulePlannerPage.jsx\";\nimport React from 'react';\nimport Board from './Board';\nimport Rules from './Rules';\nimport TrashBox from './TrashBox';\nimport YearDisplay from './YearDisplay';\nimport './plannertemp.css';\nimport { Button, Card } from 'react-bootstrap';\nimport { HTML5Backend as Backend } from 'react-dnd-html5-backend';\nimport { DndProvider } from 'react-dnd';\nimport { connect } from 'react-redux';\nimport { callBackendAPI, setCallBackendNow, setCurrentSemester } from '../../actions/modplanActions';\nimport { updateSettings, initialSettings } from \"../../actions/settingsActions\";\nimport PropTypes from 'prop-types';\nimport isEmpty from 'is-empty';\n\nclass ModulePlannerPageTemp extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleSaveClick = () => {\n      const userData = {\n        modplan: this.props.modplan.selectedModules,\n        name: this.props.settings.userInfo.name,\n        residential: this.props.settings.userInfo.residential,\n        major: this.props.settings.userInfo.major,\n        matriculationYear: this.props.settings.userInfo.matriculationYear,\n        targetGradYear: this.props.settings.userInfo.targetGradYear,\n        transcript: {}\n      };\n      this.props.updateSettings(userData);\n    };\n  }\n\n  componentWillMount() {\n    if (isEmpty(this.props.modplan.rules)) {\n      this.props.callBackendAPI('Rules');\n    }\n\n    if (isEmpty(this.props.modplan.modules)) {\n      this.props.callBackendAPI('NUSMods');\n    }\n\n    if (isEmpty(this.props.settings.currentAY)) {\n      const time = new Date();\n      const month = time.getMonth() + 1;\n      const year = time.getFullYear();\n      const isSem2 = month <= 7;\n      let currentSemester;\n      let currentAY;\n\n      if (isSem2) {\n        currentAY = `${year - 1}/${year}`;\n        currentSemester = \"Semester 2\";\n      } else {\n        currentAY = `${year}/${year + 1}`;\n        currentSemester = \"Semester 1\";\n      }\n\n      this.props.setCurrentSemester(currentAY, currentSemester);\n    }\n\n    if (!this.props.settings.userInfo) {\n      this.props.initialSettings();\n    }\n  }\n\n  handleEvalButtonClick() {\n    const modules = this.props.modplan.selectedModules;\n\n    if (isEmpty(modules)) {\n      alert('Please add modules before evaluating');\n    } else {\n      this.props.setCallBackendNow(true);\n    }\n  }\n\n  render() {\n    const module = this.props.modplan.modules;\n    return /*#__PURE__*/React.createElement(DndProvider, {\n      backend: Backend,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-module-planner\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(YearDisplay, {\n      year: \"Year 1\",\n      AY: \"2018/2019\",\n      module: this.props.modplan.modules,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(YearDisplay, {\n      year: \"Year 2\",\n      AY: \"2019/2020\",\n      module: this.props.modplan.modules,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(YearDisplay, {\n      year: \"Year 3\",\n      AY: \"2020/2021\",\n      module: this.props.modplan.modules,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(YearDisplay, {\n      year: \"Year 4\",\n      AY: \"2022/2023\",\n      module: this.props.modplan.modules,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(TrashBox, {\n      module: this.props.modplan.selectedModules,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      className: \"button\",\n      id: \"eval-button\",\n      onClick: () => this.handleEvalButtonClick(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 21\n      }\n    }, \"Evaluate\"), /*#__PURE__*/React.createElement(Button, {\n      className: \"button\",\n      onClick: this.handleSaveClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 21\n      }\n    }, \"Save\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Rules, {\n      rules: this.props.modplan.rules,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 21\n      }\n    })));\n  }\n\n}\n\nModulePlannerPageTemp.propTypes = {\n  callBackendAPI: PropTypes.func.isRequired,\n  setCallBackendNow: PropTypes.func.isRequired,\n  setCurrentSemester: PropTypes.func.isRequired,\n  updateSettings: PropTypes.func.isRequired,\n  initialSettings: PropTypes.func.isRequired,\n  modplan: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  modplan: state.modplan,\n  settings: state.settings\n});\n\nexport default connect(mapStateToProps, {\n  callBackendAPI,\n  setCallBackendNow,\n  setCurrentSemester,\n  updateSettings,\n  initialSettings\n})(ModulePlannerPageTemp);","map":{"version":3,"sources":["/Users/frisciliasultan/Documents/Orbital/client/src/Pages/Module Planner Page/ModulePlannerPage.jsx"],"names":["React","Board","Rules","TrashBox","YearDisplay","Button","Card","HTML5Backend","Backend","DndProvider","connect","callBackendAPI","setCallBackendNow","setCurrentSemester","updateSettings","initialSettings","PropTypes","isEmpty","ModulePlannerPageTemp","Component","handleSaveClick","userData","modplan","props","selectedModules","name","settings","userInfo","residential","major","matriculationYear","targetGradYear","transcript","componentWillMount","rules","modules","currentAY","time","Date","month","getMonth","year","getFullYear","isSem2","currentSemester","handleEvalButtonClick","alert","render","module","propTypes","func","isRequired","object","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Board from './Board';\nimport Rules from './Rules';\nimport TrashBox from './TrashBox';\nimport YearDisplay from './YearDisplay';\nimport './plannertemp.css';\nimport { Button, Card } from 'react-bootstrap';\nimport { HTML5Backend as Backend } from 'react-dnd-html5-backend';\nimport { DndProvider } from 'react-dnd';\nimport { connect } from 'react-redux';\nimport { callBackendAPI, setCallBackendNow, setCurrentSemester } from '../../actions/modplanActions';\nimport { updateSettings, initialSettings } from \"../../actions/settingsActions\";\nimport PropTypes from 'prop-types';\nimport isEmpty from 'is-empty'\n\n\nclass ModulePlannerPageTemp extends React.Component {\n\n    componentWillMount() {\n        if(isEmpty(this.props.modplan.rules)) {\n            this.props.callBackendAPI('Rules');\n        }\n        \n        if(isEmpty(this.props.modplan.modules)){\n            this.props.callBackendAPI('NUSMods');\n        }\n\n        if(isEmpty(this.props.settings.currentAY)) {\n            const time = new Date();\n            const month = time.getMonth() + 1;\n            const year = time.getFullYear();\n            const isSem2 = (month <= 7);\n            let currentSemester;\n            let currentAY;\n\n            if(isSem2) {\n                currentAY = `${year - 1}/${year}`\n                currentSemester = \"Semester 2\"\n            } else {\n                currentAY = `${year}/${year + 1}`\n                currentSemester = \"Semester 1\"\n            }\n\n            this.props.setCurrentSemester(currentAY, currentSemester);\n        }\n\n        if(!this.props.settings.userInfo) {\n            this.props.initialSettings();\n          }      \n       \n    }\n    \n    handleEvalButtonClick() {\n        const modules = this.props.modplan.selectedModules;\n        if (isEmpty(modules)) {\n            alert('Please add modules before evaluating');\n        } else {\n            this.props.setCallBackendNow(true);\n        }\n    }\n\n    handleSaveClick = () => {\n        const userData = {\n            modplan: this.props.modplan.selectedModules,\n            name: this.props.settings.userInfo.name,\n            residential: this.props.settings.userInfo.residential,\n            major: this.props.settings.userInfo.major,\n            matriculationYear: this.props.settings.userInfo.matriculationYear,\n            targetGradYear: this.props.settings.userInfo.targetGradYear,\n            transcript: {}\n        }\n\n        this.props.updateSettings(userData);\n    }\n    \n    render () {\n        const module = this.props.modplan.modules\n        return (\n            <DndProvider backend={Backend} >\n                <div className=\"container-module-planner\">\n                    <YearDisplay\n                            year=\"Year 1\"\n                            AY=\"2018/2019\"\n                            module={this.props.modplan.modules} />\n\n                    <YearDisplay\n                            year=\"Year 2\"\n                            AY=\"2019/2020\"\n                            module={this.props.modplan.modules}/> \n\n                    <YearDisplay\n                            year=\"Year 3\"\n                            AY=\"2020/2021\"\n                            module={this.props.modplan.modules} />\n\n                    <YearDisplay\n                            year=\"Year 4\"\n                            AY=\"2022/2023\"\n                            module={this.props.modplan.modules} /> \n                    \n                    <TrashBox\n                            module={this.props.modplan.selectedModules}/>\n\n\n                    <br/>\n\n                    <Button className=\"button\" id=\"eval-button\" onClick={() => this.handleEvalButtonClick()}>Evaluate</Button>\n                    <Button className=\"button\" onClick={this.handleSaveClick} >Save</Button>\n                    <br/>\n                    <br/>\n                    <Card>\n                        <Rules\n                            rules={this.props.modplan.rules}/>\n                    </Card>\n                    <br/>\n                </div>\n           </DndProvider>\n        )\n    }\n}\n\nModulePlannerPageTemp.propTypes = {\n    callBackendAPI: PropTypes.func.isRequired,\n    setCallBackendNow: PropTypes.func.isRequired,\n    setCurrentSemester: PropTypes.func.isRequired,\n    updateSettings: PropTypes.func.isRequired,\n    initialSettings: PropTypes.func.isRequired,\n    modplan: PropTypes.object.isRequired\n}\n\nconst mapStateToProps = state => ({\n    modplan: state.modplan,\n    settings: state.settings\n});\n\nexport default connect(mapStateToProps, \n                    { callBackendAPI, setCallBackendNow, setCurrentSemester, \n                        updateSettings, initialSettings }) \n                    (ModulePlannerPageTemp);\n"]},"metadata":{},"sourceType":"module"}