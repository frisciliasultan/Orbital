{"ast":null,"code":"import { SET_SEMESTER_OPTIONS, CALCULATE_CAP, CLEAN_UP_CAP, SET_CAP } from \"../actions/types\";\nconst initialState = {\n  cap: null,\n  semesterOptions: []\n};\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case SET_SEMESTER_OPTIONS:\n      let sem1;\n      let sem2;\n      let semesterOptions = [];\n\n      for (let i = 1; i < action.payload * 2; i += 2) {\n        const year = Math.ceil(i / 2);\n        sem1 = `Year ${year} Semester 1`;\n        sem2 = `Year ${year} Semester 2`;\n        semesterOptions[i - 1] = sem1;\n        semesterOptions[i] = sem2;\n      }\n\n      return { ...state,\n        semesterOptions: semesterOptions\n      };\n\n    case CALCULATE_CAP:\n      let totalMC = 0;\n      let totalGradePoint = 0;\n\n      for (let i = 0; i < action.payload.length; i++) {\n        const module = action.payload[i];\n\n        if (module.grade && !module.SU) {\n          totalGradePoint += module.gradePoint * module.moduleCredit;\n          totalMC += module.moduleCredit;\n        }\n      }\n\n      const cap = totalGradePoint / totalMC;\n      console.log(totalMC);\n      console.log(totalGradePoint);\n      return { ...state,\n        cap: cap\n      };\n\n    case SET_CAP:\n      return { ...state,\n        cap: action.payload\n      };\n\n    case CLEAN_UP_CAP:\n      return initialState;\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/Users/frisciliasultan/Documents/Orbital/client/src/reducers/capReducer.js"],"names":["SET_SEMESTER_OPTIONS","CALCULATE_CAP","CLEAN_UP_CAP","SET_CAP","initialState","cap","semesterOptions","state","action","type","sem1","sem2","i","payload","year","Math","ceil","totalMC","totalGradePoint","length","module","grade","SU","gradePoint","moduleCredit","console","log"],"mappings":"AAAA,SACIA,oBADJ,EAEIC,aAFJ,EAGIC,YAHJ,EAIIC,OAJJ,QAKO,kBALP;AAOA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,GAAG,EAAE,IADY;AAEjBC,EAAAA,eAAe,EAAE;AAFA,CAArB;AAKA,eAAe,UAASC,KAAK,GAAGH,YAAjB,EAA+BI,MAA/B,EAAuC;AAClD,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKT,oBAAL;AACI,UAAIU,IAAJ;AACA,UAAIC,IAAJ;AACA,UAAIL,eAAe,GAAG,EAAtB;;AAEA,WAAI,IAAIM,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAIJ,MAAM,CAACK,OAAP,GAAiB,CAArC,EAAyCD,CAAC,IAAI,CAA9C,EAAiD;AAC7C,cAAME,IAAI,GAAGC,IAAI,CAACC,IAAL,CAAUJ,CAAC,GAAG,CAAd,CAAb;AACAF,QAAAA,IAAI,GAAI,QAAOI,IAAK,aAApB;AACAH,QAAAA,IAAI,GAAI,QAAOG,IAAK,aAApB;AACAR,QAAAA,eAAe,CAACM,CAAC,GAAG,CAAL,CAAf,GAAyBF,IAAzB;AACAJ,QAAAA,eAAe,CAACM,CAAD,CAAf,GAAqBD,IAArB;AACH;;AAED,aAAO,EACH,GAAGJ,KADA;AAEHD,QAAAA,eAAe,EAAEA;AAFd,OAAP;;AAKJ,SAAKL,aAAL;AACI,UAAIgB,OAAO,GAAG,CAAd;AACA,UAAIC,eAAe,GAAG,CAAtB;;AACA,WAAI,IAAIN,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGJ,MAAM,CAACK,OAAP,CAAeM,MAAlC,EAA0CP,CAAC,EAA3C,EAAgD;AAC5C,cAAMQ,MAAM,GAAGZ,MAAM,CAACK,OAAP,CAAeD,CAAf,CAAf;;AACA,YAAGQ,MAAM,CAACC,KAAP,IAAgB,CAACD,MAAM,CAACE,EAA3B,EAA+B;AAC3BJ,UAAAA,eAAe,IAAKE,MAAM,CAACG,UAAP,GAAoBH,MAAM,CAACI,YAA/C;AACAP,UAAAA,OAAO,IAAIG,MAAM,CAACI,YAAlB;AACH;AACJ;;AAED,YAAMnB,GAAG,GAAGa,eAAe,GAAGD,OAA9B;AACAQ,MAAAA,OAAO,CAACC,GAAR,CAAYT,OAAZ;AACAQ,MAAAA,OAAO,CAACC,GAAR,CAAYR,eAAZ;AACA,aAAO,EACH,GAAGX,KADA;AAEHF,QAAAA,GAAG,EAAEA;AAFF,OAAP;;AAKJ,SAAKF,OAAL;AACI,aAAO,EACH,GAAGI,KADA;AAEHF,QAAAA,GAAG,EAAEG,MAAM,CAACK;AAFT,OAAP;;AAKJ,SAAKX,YAAL;AACI,aAAOE,YAAP;;AAEJ;AACI,aAAOG,KAAP;AAhDR;AAkDH","sourcesContent":["import {\n    SET_SEMESTER_OPTIONS,\n    CALCULATE_CAP,\n    CLEAN_UP_CAP,\n    SET_CAP\n} from \"../actions/types\";\n\nconst initialState = {\n    cap: null,\n    semesterOptions: []\n};\n\nexport default function(state = initialState, action) {\n    switch (action.type) {\n        case SET_SEMESTER_OPTIONS: \n            let sem1;\n            let sem2;\n            let semesterOptions = [];\n\n            for(let i = 1; i < (action.payload * 2); i += 2) {\n                const year = Math.ceil(i / 2);\n                sem1 = `Year ${year} Semester 1`;\n                sem2 = `Year ${year} Semester 2`;\n                semesterOptions[i - 1] = sem1;\n                semesterOptions[i] = sem2;\n            }\n\n            return {\n                ...state,\n                semesterOptions: semesterOptions\n            }\n        \n        case CALCULATE_CAP:\n            let totalMC = 0;\n            let totalGradePoint = 0;\n            for(let i = 0; i < action.payload.length; i ++) {\n                const module = action.payload[i];\n                if(module.grade && !module.SU) {\n                    totalGradePoint += (module.gradePoint * module.moduleCredit);\n                    totalMC += module.moduleCredit;\n                }\n            }\n            \n            const cap = totalGradePoint / totalMC;\n            console.log(totalMC);\n            console.log(totalGradePoint);\n            return {\n                ...state,\n                cap: cap\n            }\n    \n        case SET_CAP:\n            return {\n                ...state,\n                cap: action.payload\n            }\n\n        case CLEAN_UP_CAP:\n            return initialState;\n\n        default: \n            return state;\n    }\n}\n\n"]},"metadata":{},"sourceType":"module"}