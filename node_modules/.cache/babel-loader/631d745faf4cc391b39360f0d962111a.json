{"ast":null,"code":"var _jsxFileName = \"/Users/frisciliasultan/Documents/Orbital/client/src/Pages/Module Planner Page/ModulePlannerPage.jsx\";\nimport React, { useEffect } from 'react';\nimport Board from './Board';\nimport Rules from './Rules';\nimport TrashBox from './TrashBox';\nimport YearDisplay from './YearDisplay';\nimport './plannertemp.css';\nimport { Button, Card } from 'react-bootstrap';\nimport { HTML5Backend as Backend } from 'react-dnd-html5-backend';\nimport { DndProvider } from 'react-dnd';\nimport { connect } from 'react-redux';\nimport { callBackendAPI, setCallBackendNow, setSelectedModules } from '../../actions/modplanActions';\nimport { updateSettings } from \"../../actions/settingsActions\";\nimport { handleSaveClick } from \"../../utils/commonFunctions\";\nimport PropTypes from 'prop-types';\nimport isEmpty from 'is-empty';\n\nconst ModulePlannerPageTemp = props => {\n  const module = props.modplan.modules;\n  useEffect(() => {\n    if (isEmpty(props.modplan.rules)) {\n      props.callBackendAPI('Rules');\n    }\n\n    if (isEmpty(props.modplan.modules)) {\n      props.callBackendAPI('NUSMods');\n    }\n  }, []);\n  useEffect(() => {\n    if (!isEmpty(props.settings.userInfo.modPlan)) {\n      props.setSelectedModules(null, props.settings.userInfo.modPlan);\n    }\n  }, [props.settings.userInfo]);\n\n  const handleEvalButtonClick = () => {\n    const modules = props.modplan.selectedModules;\n\n    if (isEmpty(modules)) {\n      alert('Please add modules before evaluating');\n    } else {\n      this.props.setCallBackendNow(true);\n    }\n  };\n\n  const handleSaveButton = () => {\n    const userData = {\n      modPlan: props.modplan.selectedModules,\n      name: props.settings.userInfo.name,\n      residential: props.settings.userInfo.residential,\n      major: props.settings.userInfo.major,\n      matriculationYear: props.settings.userInfo.matriculationYear,\n      targetGradYear: props.settings.userInfo.targetGradYear,\n      transcript: props.cap.transcript\n    };\n    props.updateSettings(userData);\n  };\n\n  return /*#__PURE__*/React.createElement(DndProvider, {\n    backend: Backend,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-module-planner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(YearDisplay, {\n    year: \"Year 1\",\n    AY: \"2018/2019\",\n    module: module,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(YearDisplay, {\n    year: \"Year 2\",\n    AY: \"2019/2020\",\n    module: module,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(YearDisplay, {\n    year: \"Year 3\",\n    AY: \"2020/2021\",\n    module: module,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(YearDisplay, {\n    year: \"Year 4\",\n    AY: \"2022/2023\",\n    module: module,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(TrashBox, {\n    module: props.modplan.selectedModules,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button\",\n    id: \"eval-button\",\n    onClick: () => handleEvalButtonClick(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }, \"Evaluate\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button\",\n    onClick: () => handleSaveClick(props),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }, \"Save\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Rules, {\n    rules: props.modplan.rules,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  })));\n};\n\nModulePlannerPageTemp.propTypes = {\n  callBackendAPI: PropTypes.func.isRequired,\n  setCallBackendNow: PropTypes.func.isRequired,\n  updateSettings: PropTypes.func.isRequired,\n  modplan: PropTypes.object.isRequired,\n  settings: PropTypes.object.isRequired,\n  cap: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  settings: state.settings,\n  cap: state.cap,\n  modplan: state.modplan\n});\n\nexport default connect(mapStateToProps, {\n  callBackendAPI,\n  setCallBackendNow,\n  updateSettings,\n  setSelectedModules\n})(ModulePlannerPageTemp);","map":{"version":3,"sources":["/Users/frisciliasultan/Documents/Orbital/client/src/Pages/Module Planner Page/ModulePlannerPage.jsx"],"names":["React","useEffect","Board","Rules","TrashBox","YearDisplay","Button","Card","HTML5Backend","Backend","DndProvider","connect","callBackendAPI","setCallBackendNow","setSelectedModules","updateSettings","handleSaveClick","PropTypes","isEmpty","ModulePlannerPageTemp","props","module","modplan","modules","rules","settings","userInfo","modPlan","handleEvalButtonClick","selectedModules","alert","handleSaveButton","userData","name","residential","major","matriculationYear","targetGradYear","transcript","cap","propTypes","func","isRequired","object","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport Board from './Board';\nimport Rules from './Rules';\nimport TrashBox from './TrashBox';\nimport YearDisplay from './YearDisplay';\nimport './plannertemp.css';\nimport { Button, Card } from 'react-bootstrap';\nimport { HTML5Backend as Backend } from 'react-dnd-html5-backend';\nimport { DndProvider } from 'react-dnd';\nimport { connect } from 'react-redux';\nimport { callBackendAPI, setCallBackendNow, setSelectedModules } from '../../actions/modplanActions';\nimport { updateSettings } from \"../../actions/settingsActions\";\nimport { handleSaveClick } from \"../../utils/commonFunctions\";\nimport PropTypes from 'prop-types';\nimport isEmpty from 'is-empty'\n\n\nconst ModulePlannerPageTemp = (props) => {\n\n    const module = props.modplan.modules;\n\n    useEffect(() => {\n        if(isEmpty(props.modplan.rules)) {\n            props.callBackendAPI('Rules');\n        }\n        \n        if(isEmpty(props.modplan.modules)){\n            props.callBackendAPI('NUSMods');\n        }\n    }, [])\n\n    useEffect(() => {\n            if(!isEmpty(props.settings.userInfo.modPlan)) {\n                props.setSelectedModules(null, props.settings.userInfo.modPlan)\n            }\n    }, [props.settings.userInfo])\n\n    \n\n    const handleEvalButtonClick = () => {\n        const modules = props.modplan.selectedModules;\n        if (isEmpty(modules)) {\n            alert('Please add modules before evaluating');\n        } else {\n            this.props.setCallBackendNow(true);\n        }\n    }\n    \n    const handleSaveButton = () => {\n        const userData = {\n            modPlan: props.modplan.selectedModules,\n            name: props.settings.userInfo.name,\n            residential: props.settings.userInfo.residential,\n            major: props.settings.userInfo.major,\n            matriculationYear: props.settings.userInfo.matriculationYear,\n            targetGradYear: props.settings.userInfo.targetGradYear,\n            transcript: props.cap.transcript\n        }\n    \n        props.updateSettings(userData);\n    }\n\n    return (\n        <DndProvider backend={Backend} >\n            <div className=\"container-module-planner\">\n                <YearDisplay\n                        year=\"Year 1\"\n                        AY=\"2018/2019\"\n                        module={module} />\n\n                <YearDisplay\n                        year=\"Year 2\"\n                        AY=\"2019/2020\"\n                        module={module}/> \n\n                <YearDisplay\n                        year=\"Year 3\"\n                        AY=\"2020/2021\"\n                        module={module} />\n\n                <YearDisplay\n                        year=\"Year 4\"\n                        AY=\"2022/2023\"\n                        module={module} /> \n                \n                <TrashBox\n                        module={props.modplan.selectedModules}/>\n\n\n                <br/>\n\n                <button className=\"button\" id=\"eval-button\" onClick={() => handleEvalButtonClick()}>Evaluate</button>\n                <button className=\"button\" onClick={() => handleSaveClick(props)} >Save</button>\n                <br/>\n                <br/>\n                <Card>\n                    <Rules\n                        rules={props.modplan.rules}/>\n                </Card>\n                <br/>\n            </div>\n        </DndProvider>\n    )\n}\n\nModulePlannerPageTemp.propTypes = {\n    callBackendAPI: PropTypes.func.isRequired,\n    setCallBackendNow: PropTypes.func.isRequired,\n    updateSettings: PropTypes.func.isRequired,\n    modplan: PropTypes.object.isRequired,\n    settings: PropTypes.object.isRequired,\n    cap: PropTypes.object.isRequired\n}\n\nconst mapStateToProps = state => ({\n    settings: state.settings,\n    cap: state.cap,\n    modplan: state.modplan\n});\n\nexport default connect(mapStateToProps, \n                    { callBackendAPI, setCallBackendNow, updateSettings, setSelectedModules }) \n                    (ModulePlannerPageTemp);\n"]},"metadata":{},"sourceType":"module"}