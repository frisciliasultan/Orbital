{"ast":null,"code":"var _jsxFileName = \"/Users/frisciliasultan/Documents/Orbital/client/src/Pages/Module Planner Page/Subrules.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport { Card, Spinner } from \"react-bootstrap\";\n\nfunction Subrules(props) {\n  const [isLoading, setIsLoading] = useState(false);\n  const [isRuleFulfilled, setIsRuleFulfilled] = useState(false);\n  useEffect(() => {\n    const callBackendFunc = async ruleTag => {\n      try {\n        const link = \"http://172.31.21.121:3000/eval\";\n        const requestOptions = {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'accept': 'application/json'\n          },\n          body: JSON.stringify({\n            plan: {\n              modules: props.selectedModules\n            },\n            tag: props.tag\n          })\n        };\n        setIsLoading(true);\n        const response = await fetch(link, requestOptions); //const status = await response.json();\n\n        const status = await response.text();\n\n        if (!response.ok) {\n          throw new Error(\"An error has occurred\");\n        } else {\n          setIsRuleFulfilled(status);\n          setIsLoading(false);\n          console.log(status); //alert('success');\n        }\n      } catch (error) {\n        setIsLoading(false);\n        console.error('There was an error!', error);\n      }\n\n      ;\n    };\n\n    callBackendFunc(props.ruleTag);\n  }, [props.callBackendNow]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Card.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, props.ruleName), isLoading && /*#__PURE__*/React.createElement(Spinner, {\n    animation: \"border\",\n    variant: \"success\",\n    role: \"status\",\n    as: \"span\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sr-only\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }, \"Loading...\")));\n}\n\nexport default Subrules;","map":{"version":3,"sources":["/Users/frisciliasultan/Documents/Orbital/client/src/Pages/Module Planner Page/Subrules.jsx"],"names":["React","useState","useEffect","Card","Spinner","Subrules","props","isLoading","setIsLoading","isRuleFulfilled","setIsRuleFulfilled","callBackendFunc","ruleTag","link","requestOptions","method","headers","body","JSON","stringify","plan","modules","selectedModules","tag","response","fetch","status","text","ok","Error","console","log","error","callBackendNow","ruleName"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,IAAT,EAAeC,OAAf,QAA8B,iBAA9B;;AAEA,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AACrB,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BP,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM,CAACQ,eAAD,EAAkBC,kBAAlB,IAAwCT,QAAQ,CAAC,KAAD,CAAtD;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMS,eAAe,GAAG,MAAOC,OAAP,IAAmB;AACvC,UAAG;AACC,cAAMC,IAAI,GAAG,gCAAb;AACA,cAAMC,cAAc,GAAG;AACnBC,UAAAA,MAAM,EAAE,MADW;AAEnBC,UAAAA,OAAO,EAAE;AAAE,4BAAgB,kBAAlB;AACG,sBAAU;AADb,WAFU;AAKnBC,UAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACGC,YAAAA,IAAI,EAAE;AAACC,cAAAA,OAAO,EAAEf,KAAK,CAACgB;AAAhB,aADT;AAEGC,YAAAA,GAAG,EAAEjB,KAAK,CAACiB;AAFd,WAAf;AALa,SAAvB;AAUAf,QAAAA,YAAY,CAAC,IAAD,CAAZ;AAGA,cAAMgB,QAAQ,GAAG,MAAMC,KAAK,CAACZ,IAAD,EAAOC,cAAP,CAA5B,CAfD,CAgBC;;AACA,cAAMY,MAAM,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAArB;;AAEA,YAAG,CAACH,QAAQ,CAACI,EAAb,EAAiB;AACb,gBAAM,IAAIC,KAAJ,CAAU,uBAAV,CAAN;AACH,SAFD,MAEM;AACFnB,UAAAA,kBAAkB,CAACgB,MAAD,CAAlB;AACAlB,UAAAA,YAAY,CAAC,KAAD,CAAZ;AACAsB,UAAAA,OAAO,CAACC,GAAR,CAAYL,MAAZ,EAHE,CAIF;AACH;AAEJ,OA5BD,CA4BE,OAAMM,KAAN,EAAa;AACDxB,QAAAA,YAAY,CAAC,KAAD,CAAZ;AACAsB,QAAAA,OAAO,CAACE,KAAR,CAAc,qBAAd,EAAqCA,KAArC;AACH;;AAAA;AACd,KAjCD;;AAkCArB,IAAAA,eAAe,CAACL,KAAK,CAACM,OAAP,CAAf;AACH,GApCQ,EAoCN,CAACN,KAAK,CAAC2B,cAAP,CApCM,CAAT;AAwCA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAa3B,KAAK,CAAC4B,QAAnB,CADJ,EAEK3B,SAAS,iBAAI,oBAAC,OAAD;AAAS,IAAA,SAAS,EAAC,QAAnB;AAA4B,IAAA,OAAO,EAAC,SAApC;AAA8C,IAAA,IAAI,EAAC,QAAnD;AAA4D,IAAA,EAAE,EAAC,MAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACV;AAAM,IAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADU,CAFlB,CADJ;AASH;;AAED,eAAeF,QAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Card, Spinner } from \"react-bootstrap\";\n\nfunction Subrules(props) {\n    const [isLoading, setIsLoading] = useState(false);\n    const [isRuleFulfilled, setIsRuleFulfilled] = useState(false);\n\n    useEffect(() => {\n        const callBackendFunc = async (ruleTag) => {\n            try{\n                const link = \"http://172.31.21.121:3000/eval\";\n                const requestOptions = {\n                    method: 'POST',\n                    headers: { 'Content-Type': 'application/json',\n                                'accept': 'application/json'            \n                    },\n                    body: JSON.stringify({\n                                            plan: {modules: props.selectedModules},\n                                            tag: props.tag\n                                        })\n                };\n                setIsLoading(true);\n                \n                \n                const response = await fetch(link, requestOptions);\n                //const status = await response.json();\n                const status = await response.text();\n\n                if(!response.ok) {\n                    throw new Error(\"An error has occurred\")\n                } else{\n                    setIsRuleFulfilled(status);\n                    setIsLoading(false);\n                    console.log(status);\n                    //alert('success');\n                }\n\n            } catch(error) {\n                          setIsLoading(false);\n                          console.error('There was an error!', error);\n                      };\n        };\n        callBackendFunc(props.ruleTag);\n    }, [props.callBackendNow]);\n\n    \n\n    return (    \n        <div>\n            <Card.Title>{props.ruleName}</Card.Title>\n            {isLoading && <Spinner animation=\"border\" variant=\"success\" role=\"status\" as=\"span\">\n                <span className=\"sr-only\">Loading...</span>\n            </Spinner>}\n        </div>\n    )\n\n}\n\nexport default Subrules;"]},"metadata":{},"sourceType":"module"}