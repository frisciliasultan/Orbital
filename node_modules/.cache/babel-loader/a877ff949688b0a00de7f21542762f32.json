{"ast":null,"code":"var _jsxFileName = \"/Users/frisciliasultan/Documents/Orbital/client/src/App.js\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport $ from 'jquery';\nimport Popper from 'popper.js';\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\nimport React from \"react\";\nimport { Options } from \"./Components/Options\";\nimport { Dropdown } from './Containers/Dropdown';\nimport { Table } from './Components/Module Table';\n\nclass Main extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.callBackendAPI = async () => {\n      const response = await fetch('/express_backend');\n      const body = await response.json();\n\n      if (response.status !== 200) {\n        throw Error(body.message);\n      }\n\n      return body;\n    };\n\n    this.state = {\n      data: null,\n      faculty: null,\n      dummyfac: [{\n        'Business': [{\n          'Business Administration': ['A', 'B']\n        }, {\n          'Accountancy': ['C', 'D']\n        }]\n      }, {\n        'FASS': [{\n          'C': ['N/A']\n        }, {\n          'D': ['N/A']\n        }]\n      }],\n      major: null,\n      specialisation: null,\n      residenceOptions: ['N/A', 'CAPT', 'RC4', 'RVRC', 'Tembusu', 'USP'],\n      residence: 'N/A',\n      GEMs: [{\n        \"GEH: Human Culture\": [{\n          code: 'GEH1001',\n          name: 'Globalisation and New Media',\n          MCs: 4,\n          link: \"https://nusmods.com/modules/MA1521/calculus-for-computing\"\n        }, {\n          code: 'GEH1002',\n          name: \"Economic Issues in Dev World\",\n          MCs: 4,\n          link: \"https://nusmods.com/modules/MA1521/calculus-for-computing\"\n        }, {\n          code: 'GEH23420',\n          name: 'lafjkljwe',\n          MCs: 4,\n          link: \"https://nusmods.com/modules/MA1521/calculus-for-computing\"\n        }]\n      }, //end of first object member\n      {\n        \"GES: Singapore Studies\": [{\n          code: 'GES324230',\n          name: 'adkfjkjfklasj',\n          MCs: 4,\n          link: 'asdfew'\n        }]\n      } //end of object 2\n      ],\n      coreModules: [{\n        code: \"MA1521\",\n        name: \"Calculus for Computing\",\n        MCs: 4,\n        link: \"https://nusmods.com/modules/MA1521/calculus-for-computing\"\n      }, {\n        code: \"MA1531\",\n        name: \"Calculus not Computing\",\n        MCs: 4,\n        link: \"https://nusmods.com/modules/MA1521/calculus-for-computing\"\n      }, {\n        code: \"MA1531\",\n        name: \"Calculus not Computing\",\n        MCs: 4,\n        link: \"https://nusmods.com/modules/MA1521/calculus-for-computing\"\n      }],\n      //NEED TO INPUT: array of objects with properties code, name, link to NUSMods description\n      specialisationModules: [{\n        code: \"MA1531\",\n        name: \"Calculus not Computing\",\n        MCs: 4,\n        link: \"https://nusmods.com/modules/MA1521/calculus-for-computing\"\n      }, {\n        code: \"MA1531\",\n        name: \"Calculus not Computing\",\n        MCs: 4,\n        link: \"https://nusmods.com/modules/MA1521/calculus-for-computing\"\n      }],\n      unrestrictedModules: [{\n        code: \"MA1521\",\n        name: \"Calculus for Computing\",\n        MCs: 4,\n        link: \"https://nusmods.com/modules/MA1521/calculus-for-computing\"\n      }]\n    };\n    this.changeFaculty = this.changeFaculty.bind(this);\n    this.changeMajor = this.changeMajor.bind(this);\n    this.generateOptions = this.generateOptions.bind(this);\n    this.makeTable = this.makeTable.bind(this);\n    this.generateDropDown = this.generateDropDown.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.countModule = this.countModule.bind(this);\n  }\n\n  componentDidMount() {\n    // Call our fetch function below once the component mounts\n    this.callBackendAPI().then(res => this.setState({\n      data: res.express\n    })).catch(err => console.log(err));\n    this.countModule();\n  } // Fetches our GET route from the Express server. (Note the route we are fetching matches the GET route from server.js\n\n\n  //receive the choice of faculty from options.js and change state of faculty\n  changeFaculty(value, index) {\n    this.setState({\n      faculty: value,\n      facIndex: index,\n      major: null\n    });\n  }\n\n  changeMajor(value, index) {\n    this.setState({\n      major: value,\n      majorIndex: index\n    });\n  } //turn array of choices into options dropdown\n\n\n  generateOptions(choices) {\n    let facIndex = this.state.facIndex;\n\n    if (choices === 'faculty') {\n      return this.state.dummyfac.map(obj => {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          value: Object.keys(obj),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 7\n          }\n        }, Object.keys(obj));\n      });\n    } else if (choices === 'major') {\n      if (this.state.faculty) {\n        return this.state.dummyfac[facIndex][this.state.faculty].map(obj => {\n          return /*#__PURE__*/React.createElement(\"option\", {\n            value: Object.keys(obj),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 21\n            }\n          }, Object.keys(obj));\n        });\n      }\n    } else if (choices === 'specialisation') {\n      if (this.state.major && this.state.faculty) {\n        return this.state.dummyfac[facIndex][this.state.faculty][this.state.majorIndex][this.state.major].map(item => {\n          return /*#__PURE__*/React.createElement(\"option\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 21\n            }\n          }, item);\n        });\n      }\n    } else {\n      return this.state.residenceOptions.map(obj => {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          value: obj,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 7\n          }\n        }, obj);\n      });\n    }\n  } //takes in array of objects for modules and return a table\n\n\n  makeTable(item, moduleCat, index) {\n    if (item === 'summary') {\n      return this.state.summary.map(module => {\n        const {\n          cat,\n          MCs\n        } = module;\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(\"tr\", {\n          key: cat,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }\n        }, cat), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }\n        }, MCs + 'MCs')));\n      });\n    } else {\n      let propfunction;\n\n      if (item === 'module') {\n        propfunction = this.state.coreModules;\n      } else if (item === 'specialisation') {\n        propfunction = this.state.specialisationModules;\n      } else if (item === 'unrestricted') {\n        propfunction = this.state.unrestrictedModules;\n      } else {\n        propfunction = this.state.GEMs[index][moduleCat];\n      }\n\n      return propfunction.map(module => {\n        const {\n          code,\n          name,\n          MCs,\n          link\n        } = module;\n\n        if (item === 'GEM') {\n          return /*#__PURE__*/React.createElement(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(\"tr\", {\n            key: code,\n            \"data-toggle\": \"tooltip\",\n            title: \"Click row to select module, click on the module code for more information\",\n            onClick: () => this.handleClick(code, name, MCs, moduleCat),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 17\n            }\n          }, /*#__PURE__*/React.createElement(\"a\", {\n            href: link,\n            target: \"_blank\",\n            className: \"text-white text-decoration-none\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 21\n            }\n          }, /*#__PURE__*/React.createElement(\"td\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 21\n            }\n          }, code)), /*#__PURE__*/React.createElement(\"td\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 21\n            }\n          }, name), /*#__PURE__*/React.createElement(\"td\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 21\n            }\n          }, MCs + 'MCs')));\n        } else {\n          return /*#__PURE__*/React.createElement(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(\"tr\", {\n            key: code,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 17\n            }\n          }, /*#__PURE__*/React.createElement(\"a\", {\n            href: link,\n            target: \"_blank\",\n            className: \"text-white text-decoration-none\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 17\n            }\n          }, /*#__PURE__*/React.createElement(\"td\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 21\n            }\n          }, code), /*#__PURE__*/React.createElement(\"td\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 21\n            }\n          }, name), /*#__PURE__*/React.createElement(\"td\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 21\n            }\n          }, MCs + 'MCs'))));\n        }\n      });\n    }\n  }\n\n  generateDropDown() {\n    if (this.state.residence === 'N/A') {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 7\n        }\n      }, \"General Elective Modules\"), this.state.GEMs.map((module, i) => {\n        const GEMCat = Object.keys(module)[0];\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(Dropdown, {\n          cat: GEMCat,\n          title: this.state.GEMTitle,\n          moduleCat: this.state.moduleCat,\n          MCtemp: this.state.MCtemp,\n          sendData: this.getData,\n          id: \"GEM_\" + i,\n          target: \"GEM_\" + i,\n          module: this.makeTable('GEM', GEMCat, i),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 9\n          }\n        }));\n      }));\n    } else if (this.state.residence === 'CAPT') {}\n  }\n\n  handleClick(code, name, MCs, moduleCat) {\n    const title = code + ': ' + name;\n    this.setState({\n      GEMTitle: title,\n      MCtemp: MCs,\n      moduleCat: moduleCat\n    });\n  }\n\n  countModule() {\n    const GEMs = this.state.GEMs.reduce((currentTotal, next) => {\n      return currentTotal + next.MCs;\n    }, 0);\n    const coreModules = this.state.coreModules.reduce((currentTotal, next) => {\n      return currentTotal + next.MCs;\n    }, 0);\n    const specialisationModules = this.state.specialisationModules.reduce((currentTotal, next) => {\n      return currentTotal + next.MCs;\n    }, 0);\n    const unrestrictedModules = this.state.unrestrictedModules.reduce((currentTotal, next) => {\n      return currentTotal + next.MCs;\n    }, 0);\n    const grandTotal = coreModules + specialisationModules + unrestrictedModules;\n    this.setState({\n      summary: [{\n        cat: \"General Elective Module\",\n        MCs: GEMs\n      }, {\n        cat: \"Core Module\",\n        MCs: coreModules\n      }, {\n        cat: \"Specialisation Module\",\n        MCs: specialisationModules\n      }, {\n        cat: \"Unrestricted Module\",\n        MCs: unrestrictedModules\n      }],\n      grandTotal: grandTotal\n    });\n  }\n\n  getDropdownMCs(MCs) {\n    this.setState({\n      totalGEMMCs: MCs\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      class: \"full-container bg-dark text-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"display-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 11\n      }\n    }, \"Module Overview\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row text-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(Options, {\n      onFacultyChange: this.changeFaculty,\n      onMajorChange: this.changeMajor,\n      faculty: this.state.faculty,\n      facultyOptions: this.generateOptions('faculty'),\n      majorOptions: this.generateOptions('major'),\n      specialisationOptions: this.generateOptions('specialisation'),\n      residenceOptions: this.generateOptions(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg col-md-4 col-sm-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 11\n      }\n    }, this.generateDropDown()), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg col-md-4 col-sm-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      title: \"Core Modules\",\n      module: this.makeTable('module'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg col-md-4 col-sm-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      title: \"Specialisation Modules\",\n      module: this.makeTable('specialisation'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg col-md-6 col-sm-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      title: \"Unrestricted Electives\",\n      module: this.makeTable('unrestricted'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      title: \"Total Modular Credits\",\n      module: this.makeTable('summary'),\n      total: this.state.grandTotal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}\n\nexport default Main;","map":{"version":3,"sources":["/Users/frisciliasultan/Documents/Orbital/client/src/App.js"],"names":["$","Popper","React","Options","Dropdown","Table","Main","Component","constructor","props","callBackendAPI","response","fetch","body","json","status","Error","message","state","data","faculty","dummyfac","major","specialisation","residenceOptions","residence","GEMs","code","name","MCs","link","coreModules","specialisationModules","unrestrictedModules","changeFaculty","bind","changeMajor","generateOptions","makeTable","generateDropDown","handleClick","countModule","componentDidMount","then","res","setState","express","catch","err","console","log","value","index","facIndex","majorIndex","choices","map","obj","Object","keys","item","moduleCat","summary","module","cat","propfunction","i","GEMCat","GEMTitle","MCtemp","getData","title","reduce","currentTotal","next","grandTotal","getDropdownMCs","totalGEMMCs","render"],"mappings":"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","sourcesContent":["import 'bootstrap/dist/css/bootstrap.min.css';\nimport $ from 'jquery';\nimport Popper from 'popper.js';\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\nimport React from \"react\";\nimport { Options } from \"./Components/Options\";\nimport { Dropdown } from './Containers/Dropdown';\nimport { Table } from './Components/Module Table'\n\n\nclass Main extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: null,\n      faculty: null,\n      dummyfac: [{'Business': [{'Business Administration': ['A', 'B']},\n                                {'Accountancy': ['C', 'D']}]},\n                {'FASS': [{'C': ['N/A']},\n                          {'D': ['N/A']}]}],\n      major: null,\n      specialisation: null,\n      residenceOptions: ['N/A','CAPT', 'RC4', 'RVRC','Tembusu', 'USP'],\n      residence: 'N/A',\n      GEMs: [\n        {\"GEH: Human Culture\": [{code: 'GEH1001', \n                                name: 'Globalisation and New Media', \n                                MCs: 4, \n                                link: \"https://nusmods.com/modules/MA1521/calculus-for-computing\"},\n                                {code: 'GEH1002', \n                                name: \"Economic Issues in Dev World\", \n                                MCs:4, \n                                link: \"https://nusmods.com/modules/MA1521/calculus-for-computing\"},\n                                {code: 'GEH23420', \n                                name: 'lafjkljwe', \n                                MCs: 4, \n                                link: \"https://nusmods.com/modules/MA1521/calculus-for-computing\"}]}, //end of first object member\n        \n        {\"GES: Singapore Studies\": [{code: 'GES324230', \n                                    name: 'adkfjkjfklasj', \n                                    MCs: 4, \n                                    link: 'asdfew'}]} //end of object 2\n        ],\n      coreModules: [\n        {code: \"MA1521\",\n         name: \"Calculus for Computing\",\n         MCs: 4,\n         link: \"https://nusmods.com/modules/MA1521/calculus-for-computing\"},\n         {code: \"MA1531\",\n         name: \"Calculus not Computing\",\n         MCs: 4,\n         link: \"https://nusmods.com/modules/MA1521/calculus-for-computing\"},\n         {code: \"MA1531\",\n         name: \"Calculus not Computing\",\n         MCs: 4,\n         link: \"https://nusmods.com/modules/MA1521/calculus-for-computing\"}\n        ],\n         //NEED TO INPUT: array of objects with properties code, name, link to NUSMods description\n      specialisationModules: [\n        {code: \"MA1531\",\n         name: \"Calculus not Computing\",\n         MCs: 4,\n         link: \"https://nusmods.com/modules/MA1521/calculus-for-computing\"},\n         {code: \"MA1531\",\n         name: \"Calculus not Computing\",\n         MCs: 4,\n         link: \"https://nusmods.com/modules/MA1521/calculus-for-computing\"}\n      ],\n      \n      unrestrictedModules: [{code: \"MA1521\",\n      name: \"Calculus for Computing\",\n      MCs: 4,\n      link: \"https://nusmods.com/modules/MA1521/calculus-for-computing\"},\n     ],\n    \n    }\n    this.changeFaculty = this.changeFaculty.bind(this);\n    this.changeMajor=this.changeMajor.bind(this);\n    this.generateOptions =this.generateOptions.bind(this);\n    this.makeTable = this.makeTable.bind(this);\n    this.generateDropDown = this.generateDropDown.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.countModule = this.countModule.bind(this);\n  }\n  \n  componentDidMount() {\n    // Call our fetch function below once the component mounts\n  this.callBackendAPI()\n    .then(res => this.setState({ data: res.express }))\n    .catch(err => console.log(err));\n    this.countModule();\n\n  }\n  // Fetches our GET route from the Express server. (Note the route we are fetching matches the GET route from server.js\n  callBackendAPI = async () => {\n  const response = await fetch('/express_backend');\n  const body = await response.json();\n\n  if (response.status !== 200) {\n    throw Error(body.message) \n  }\n  return body;\n  };\n\n  //receive the choice of faculty from options.js and change state of faculty\n  changeFaculty(value, index) {\n    this.setState({\n      faculty: value,\n      facIndex: index,\n      major: null\n    });\n  }\n\n  changeMajor(value, index) {\n    this.setState({\n      major: value,\n      majorIndex: index\n    });\n  }\n\n\n  //turn array of choices into options dropdown\n  generateOptions(choices) {\n    let facIndex = this.state.facIndex;\n  if(choices === 'faculty'){\n    return this.state.dummyfac.map((obj) => {\n      return (\n      <option value={Object.keys(obj)}>\n        {Object.keys(obj)}\n      </option>\n      );\n    });\n  } else if(choices === 'major') {\n      if(this.state.faculty) {\n    return this.state.dummyfac\n           [facIndex]\n           [this.state.faculty].map((obj) => {\n                  return (\n                    <option value={Object.keys(obj)}>\n                      {Object.keys(obj)}\n                    </option>\n                  )\n              }\n    )}\n  } else if(choices === 'specialisation') {\n      if(this.state.major && this.state.faculty) {\n      return this.state.dummyfac\n             [facIndex]\n             [this.state.faculty][this.state.majorIndex][this.state.major].map((item) => {\n                  return (\n                    <option>\n                      {item}\n                    </option>\n                  )\n                }    \n      )}\n  } else {\n    return this.state.residenceOptions.map((obj) => {\n      return (\n      <option value={obj}>\n        {obj}\n      </option>\n      );\n    });\n  }\n}\n\n  //takes in array of objects for modules and return a table\n  makeTable(item, moduleCat, index) {\n    if(item === 'summary') {\n      return this.state.summary.map((module) => {\n      const { cat, MCs } = module;\n      return(\n        <div>\n          <tr key={cat}>\n            <td>{cat}</td>\n            <td>{MCs + 'MCs'}</td>\n          </tr>\n        </div>\n      )\n      }\n    )}\n\n    else{\n    let propfunction;\n      if (item === 'module'){\n        propfunction = this.state.coreModules;\n      }\n      else if(item === 'specialisation') {\n        propfunction = this.state.specialisationModules;\n      } \n      else if(item === 'unrestricted') {\n        propfunction = this.state.unrestrictedModules;\n      } \n      else {\n        propfunction = this.state.GEMs[index][moduleCat]\n      }\n\n   return propfunction.map((module) => {\n        const { code, name, MCs, link } = module\n        if(item === 'GEM') {\n          return (\n            <div>\n                <tr key={code} data-toggle=\"tooltip\" \n                    title=\"Click row to select module, click on the module code for more information\"\n                    onClick={() => this.handleClick(code, name, MCs, moduleCat)}\n                    >\n                    <a href={link}\n                      target=\"_blank\"\n                      className=\"text-white text-decoration-none\">\n                    <td>{code}</td>\n                    </a>\n                    <td>{name}</td>\n                    <td>{MCs + 'MCs'}</td>\n                </tr>\n            </div>\n        )\n        } else{\n        return (\n            <div>\n                <tr key={code} >\n                <a href={link} \n                           target=\"_blank\" \n                           className=\"text-white text-decoration-none\">\n                    <td>{code}</td>\n                    <td>{name}</td>\n                    <td>{MCs + 'MCs'}</td>\n                    </a>\n                </tr>\n            </div>\n        )}\n   })\n  }\n}\n\n  generateDropDown() {\n    if(this.state.residence === 'N/A') {\n      return (<div>\n      <h3>General Elective Modules</h3>\n      {this.state.GEMs.map((module, i) => {\n        const GEMCat = Object.keys(module)[0]\n        return (\n        <div>\n        <Dropdown cat={GEMCat}\n          title={this.state.GEMTitle}\n          moduleCat={this.state.moduleCat}\n          MCtemp={this.state.MCtemp}\n          sendData={this.getData}\n          id={\"GEM_\" + i}\n          target={\"GEM_\" + i}\n        module={this.makeTable('GEM', GEMCat, i)} />\n        </div>\n        )\n      })}\n        </div>)\n    }\n    \n    else if(this.state.residence === 'CAPT') {\n\n    }\n  }\n\n  handleClick(code, name, MCs, moduleCat) {\n    const title = code + ': ' + name;\n    this.setState({GEMTitle: title,\n                   MCtemp: MCs,\n                    moduleCat: moduleCat});\n  }\n\n  countModule() {\n    const GEMs = this.state.GEMs.reduce((currentTotal, next) => {\n      return currentTotal + next.MCs} , 0);\n    const coreModules = this.state.coreModules.reduce((currentTotal, next) => {\n      return currentTotal + next.MCs} , 0);\n    const specialisationModules = this.state.specialisationModules.reduce((currentTotal, next) => {\n      return currentTotal + next.MCs} , 0);\n    const unrestrictedModules = this.state.unrestrictedModules.reduce((currentTotal, next) => {\n      return currentTotal + next.MCs} , 0);\n    const grandTotal = coreModules + specialisationModules + unrestrictedModules;\n      this.setState({summary: [{cat: \"General Elective Module\",\n                               MCs: GEMs},\n                              {cat: \"Core Module\",\n                               MCs: coreModules},\n                              {cat: \"Specialisation Module\",\n                               MCs: specialisationModules},\n                              {cat: \"Unrestricted Module\",\n                               MCs: unrestrictedModules}],\n                    grandTotal: grandTotal\n                              });\n      \n    }\n  \n    getDropdownMCs(MCs) {\n      this.setState({totalGEMMCs: MCs })\n    }\n  \n\n \n  \n  render() {\n       return (\n       <div class=\"full-container bg-dark text-white\">\n         <div className=\"row\">\n          <h1 className=\"display-3\">\n            Module Overview\n          </h1>\n        </div>\n\n       <div className=\"row text-left\"> \n          <Options onFacultyChange={this.changeFaculty}\n                   onMajorChange={this.changeMajor}\n                   faculty={this.state.faculty}\n                   facultyOptions={this.generateOptions('faculty')}\n                   majorOptions={this.generateOptions('major')}\n                   specialisationOptions={this.generateOptions('specialisation')}\n                   residenceOptions={this.generateOptions()}/>\n        </div>\n\n        <div className=\"row\"> \n\n\n\n\n\n          <div className=\"col-lg col-md-4 col-sm-6\">\n              {this.generateDropDown()}\n          </div>\n\n          <div className=\"col-lg col-md-4 col-sm-6\">\n              <Table\n                title=\"Core Modules\"\n                module={this.makeTable('module')} />\n          </div>\n\n          <div className=\"col-lg col-md-4 col-sm-6\">\n            <Table \n              title=\"Specialisation Modules\"\n              module={this.makeTable('specialisation')} />\n          </div>\n\n          <div className=\"col-lg col-md-6 col-sm-6\">\n            <Table\n                title=\"Unrestricted Electives\"\n                 module={this.makeTable('unrestricted')} />\n          </div>\n\n\n          <div className=\"col-lg col-md-6\">\n            <Table\n              title=\"Total Modular Credits\"\n              module={this.makeTable('summary')}\n              total={this.state.grandTotal}/>\n          </div>\n\n        </div>\n        </div>\n\n   );\n    }\n}\n\n\nexport default Main;"]},"metadata":{},"sourceType":"module"}