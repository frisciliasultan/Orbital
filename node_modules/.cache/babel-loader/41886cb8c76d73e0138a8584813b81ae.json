{"ast":null,"code":"var _jsxFileName = \"/Users/frisciliasultan/Documents/Orbitalhosting/src/Pages/Module Selection Page/Table Content.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { generateOptions } from \"../../utils/commonFunctions\";\nimport { Select, Empty } from \"antd\";\nimport isEmpty from \"is-empty\";\nlet semesterCount = 0;\nlet noModulesSemesterCount = 0;\nexport const TableContent = props => {\n  let totalMCs = 0; // const [modules, setModules] = useState();\n\n  const modules = props.module.filter((object, i) => object.location === props.title); //update modules\n  // useEffect(() => {\n  //     const filteredModules =  props.module.filter((object, i) => object.location === props.title);\n  //     setModules(filteredModules);\n  // }, [props.module])\n\n  const makeTable = () => {\n    if (isEmpty(modules)) {\n      if (props.category !== \"capTable\" || props.lastInCategory && semesterCount === noModulesSemesterCount) {\n        //reset sem and nomodsem count\n        semesterCount = 0;\n        noModulesSemesterCount = 0;\n        console.log('others/ last and empty');\n        return /*#__PURE__*/React.createElement(Empty, {\n          imageStyle: {\n            margin: \"20px\"\n          },\n          description: /*#__PURE__*/React.createElement(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 31,\n              columnNumber: 25\n            }\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 32,\n              columnNumber: 29\n            }\n          }, \"No data\"), /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 35,\n              columnNumber: 29\n            }\n          }), !props.category && /*#__PURE__*/React.createElement(\"span\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 37,\n              columnNumber: 33\n            }\n          }, \"Add modules by clicking the button below!\")),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 28,\n            columnNumber: 21\n          }\n        });\n      } else {\n        console.log('not last and empty');\n        semesterCount += 1;\n        noModulesSemesterCount += 1;\n      }\n    } else {\n      if (props.category === \"capTable\") {\n        if (props.lastInCategory) {\n          console.log('last and not empty'); //reset sem and nomod sem count\n\n          semesterCount = 0;\n          noModulesSemesterCount = 0;\n        } else {\n          semesterCount += 1;\n          console.log(\"not empty and not last\");\n        }\n      }\n\n      return modules.map((object, i) => {\n        const {\n          moduleCode,\n          title,\n          moduleCredit\n        } = object;\n\n        if (props.category === \"tables\") {\n          const desc = title.replace(/ /g, '-');\n          const link = `https://nusmods.com/modules/${moduleCode}/${desc}`;\n          totalMCs += Number(object.moduleCredit);\n          return /*#__PURE__*/React.createElement(\"tr\", {\n            key: moduleCode,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 29\n            }\n          }, /*#__PURE__*/React.createElement(\"a\", {\n            href: link,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            className: \"text-white text-decoration-none\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 33\n            }\n          }, /*#__PURE__*/React.createElement(\"td\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 41\n            }\n          }, moduleCode), /*#__PURE__*/React.createElement(\"td\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 41\n            }\n          }, title), /*#__PURE__*/React.createElement(\"td\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 41\n            }\n          }, moduleCredit + 'MCs')));\n        } else {\n          return /*#__PURE__*/React.createElement(\"tr\", {\n            className: \"cap-table-row\",\n            key: moduleCode,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 29\n            }\n          }, /*#__PURE__*/React.createElement(\"td\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 33\n            }\n          }, moduleCode), /*#__PURE__*/React.createElement(\"td\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 33\n            }\n          }, title), /*#__PURE__*/React.createElement(\"td\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 33\n            }\n          }, moduleCredit + 'MCs'), /*#__PURE__*/React.createElement(\"td\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 33\n            }\n          }, /*#__PURE__*/React.createElement(Select, {\n            name: object,\n            value: object.grade || object.targetGrade,\n            onChange: (value, object) => props.handleGradeClick(value, object, props.isPast),\n            style: {\n              width: 70\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 37\n            }\n          }, generateOptions(props.gradeList, \"grade\", object))), props.isPast && /*#__PURE__*/React.createElement(\"td\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 33\n            }\n          }, /*#__PURE__*/React.createElement(\"input\", {\n            className: \"checkbox\",\n            type: \"checkbox\",\n            checked: object.SU,\n            onChange: e => props.handleCheckboxChange(e, object),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 37\n            }\n          })), !props.category && /*#__PURE__*/React.createElement(\"td\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 37\n            }\n          }, /*#__PURE__*/React.createElement(\"i\", {\n            className: \"fa fa-trash-alt fa-border\",\n            style: {\n              cursor: \"pointer\"\n            },\n            onClick: () => props.setModuleLocation({\n              id: object.moduleCode\n            }, null, null, props.module),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 41\n            }\n          })));\n        }\n      });\n    }\n  }; // const handleEmpty = () => {\n  //     if(props.lastInCategory) {\n  //         console.log('last')\n  //         semesterCount = 0;\n  //         noModulesSemesterCount = 0;\n  //         return makeTable();\n  //     } else {\n  //         console.log('called')\n  //         if(props.category === \"capTable\") {\n  //             if(isEmpty(modules)) {\n  //                 console.log('empty and not last')\n  //                 semesterCount += 1;\n  //                 noModulesSemesterCount += 1;\n  //             } else {\n  //                 console.log('not empty and not last')\n  //                 semesterCount += 1;\n  //             }\n  //         } \n  //     }\n  //     console.log(semesterCount)\n  //     console.log(noModulesSemesterCount)\n  //     return makeTable();\n  // console.log(props.lastInCategory)\n  //     if(isEmpty(modules)) {\n  //         console.log(props.category) \n  //         console.log(props.lastInCategory)\n  //         console.log(semesterCount)\n  //         console.log(noModulesSemesterCount)\n  //         if(props.category === \"capTable\" && !props.lastInCategory) {\n  //             console.log('empty and not last')\n  //             semesterCount += 1;\n  //             noModulesSemesterCount += 1;\n  //         } else if (!props.category || props.category === \"tables\" ||\n  //             (semesterCount === noModulesSemesterCount && props.lastInCategory)) {\n  //                 //reset sem and nomodulesem count\n  //                 console.log('empty and last')\n  //                 semesterCount = 0;\n  //                 noModulesSemesterCount = 0;\n  //                 return (\n  //                     <Empty\n  //                         imageStyle={{margin: \"20px\"}}\n  //                         description={\n  //                             <div>\n  //                                 <span>\n  //                                     No data\n  //                                 </span> \n  //                                 <br/>\n  //                                 {!props.category && (\n  //                                     <span>\n  //                                         Add modules by clicking the button below!\n  //                                     </span>\n  //                                 )}  \n  //                             </div>\n  //                             }/>\n  //                 )\n  //         } else {\n  //             console.log(\"do nth add sem\")\n  //             semesterCount += 1\n  //             return null;\n  //         }\n  //     } else if (props.category === \"capTable\" && !props.lastInCategory) {\n  //         console.log('calld')\n  //             semesterCount += 1;\n  //             return makeTable();\n  //     } else {\n  //         console.log('reset')\n  //         semesterCount = 0;\n  //         noModulesSemesterCount = 0;\n  //         return makeTable();\n  //     }\n\n\n  if (props.category === \"tables\") {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 21\n      }\n    }, props.title), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table table-hover\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 25\n      }\n    }, makeTable())));\n  } else {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cap-table-header-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 17\n      }\n    }, props.displayHeader && /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 29\n      }\n    }, props.isPast ? \"Past Semester\" : \"Future Semester\"), (!props.category || props.displayHeader) && /*#__PURE__*/React.createElement(\"thead\", {\n      className: props.isPast ? \"cap-table-header\" : \"cap-table-header isPast\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 33\n      }\n    }, \"Module Code\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 33\n      }\n    }, \"Module Title\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 33\n      }\n    }, \"Modular Credits\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 33\n      }\n    }, props.isPast ? \"Grade\" : \"Target Grade\"), props.isPast && /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 50\n      }\n    }, \"S/U\"), !props.category && /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 53\n      }\n    })), /*#__PURE__*/React.createElement(\"tbody\", {\n      className: \"cap-table-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 29\n      }\n    }, props.category && !isEmpty(modules) && /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      className: \"table-semester-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 41\n      }\n    }, props.title)), makeTable()));\n  }\n};","map":{"version":3,"sources":["/Users/frisciliasultan/Documents/Orbitalhosting/src/Pages/Module Selection Page/Table Content.js"],"names":["React","useState","useEffect","generateOptions","Select","Empty","isEmpty","semesterCount","noModulesSemesterCount","TableContent","props","totalMCs","modules","module","filter","object","i","location","title","makeTable","category","lastInCategory","console","log","margin","map","moduleCode","moduleCredit","desc","replace","link","Number","grade","targetGrade","value","handleGradeClick","isPast","width","gradeList","SU","e","handleCheckboxChange","cursor","setModuleLocation","id","displayHeader"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { generateOptions } from \"../../utils/commonFunctions\";\nimport { Select, Empty } from \"antd\";\nimport isEmpty from \"is-empty\"\n\n\nlet semesterCount = 0;\nlet noModulesSemesterCount = 0;\nexport const TableContent = (props) => {\n    let totalMCs = 0;\n    // const [modules, setModules] = useState();\n    const modules =  props.module.filter((object, i) => object.location === props.title);\n    \n    //update modules\n    // useEffect(() => {\n    //     const filteredModules =  props.module.filter((object, i) => object.location === props.title);\n    //     setModules(filteredModules);\n    // }, [props.module])\n\n    const makeTable = () => {\n        if(isEmpty(modules)) {\n            if (props.category !== \"capTable\" || (props.lastInCategory && semesterCount === noModulesSemesterCount)) {\n                //reset sem and nomodsem count\n                semesterCount = 0;\n                noModulesSemesterCount = 0; \n                console.log('others/ last and empty')\n                return (\n                    <Empty\n                    imageStyle={{margin: \"20px\"}}\n                    description={\n                        <div>\n                            <span>\n                                No data\n                            </span> \n                            <br/>\n                            {!props.category && (\n                                <span>\n                                    Add modules by clicking the button below!\n                                </span>\n                            )}  \n                        </div>\n                        }\n                    />\n                )\n            } else {\n                console.log('not last and empty')\n                semesterCount += 1;\n                noModulesSemesterCount += 1;\n            }\n        } else {\n            if(props.category === \"capTable\") {\n                if(props.lastInCategory) {\n                    console.log('last and not empty')\n                    //reset sem and nomod sem count\n                    semesterCount = 0;\n                    noModulesSemesterCount = 0;\n                } else {\n                    semesterCount += 1;\n                    console.log(\"not empty and not last\")\n                }\n            } \n            return (\n                modules.map((object, i) => {\n                    const {moduleCode, title, moduleCredit} = object;\n    \n                    if(props.category === \"tables\") {\n                        const desc = title.replace(/ /g, '-');\n                        const link = `https://nusmods.com/modules/${moduleCode}/${desc}`\n                        totalMCs += Number(object.moduleCredit);\n    \n                        return (\n                            <tr key={moduleCode} >\n                                <a href={link} \n                                    target=\"_blank\" \n                                    rel=\"noopener noreferrer\"\n                                    className=\"text-white text-decoration-none\">\n                                        <td>{moduleCode}</td>\n                                        <td>{title}</td>\n                                        <td>{moduleCredit + 'MCs'}</td>\n                                </a>\n                            </tr>\n                        )   \n                    } else {\n                        return (\n                            \n                            <tr className=\"cap-table-row\" key={moduleCode}>\n                                <td>{moduleCode}</td>\n                                <td>{title}</td>\n                                <td>{moduleCredit + 'MCs'}</td>\n                                <td>\n                                    <Select \n                                        name={object}\n                                        value={object.grade || object.targetGrade} \n                                        onChange={(value, object) => props.handleGradeClick(value, object, props.isPast)}\n                                        style={{ width: 70 }}>\n                                        {generateOptions(props.gradeList, \"grade\", object)}\n                                    </Select>\n                                </td>\n                                {props.isPast && \n                                <td>\n                                    <input\n                                        className=\"checkbox\"\n                                        type=\"checkbox\"\n                                        checked={object.SU}\n                                        onChange={(e) => props.handleCheckboxChange(e, object)}/>\n                                </td>}\n                                {!props.category && (\n                                    <td>\n                                        <i  \n                                            className=\"fa fa-trash-alt fa-border\"\n                                            style={{cursor: \"pointer\"}}\n                                            onClick={() => props.setModuleLocation({id: object.moduleCode}, null, null, props.module)} />\n                                    </td>\n                                )}\n                            </tr>\n                        )\n                    }     \n                })\n            )\n        }\n    }\n\n    // const handleEmpty = () => {\n    //     if(props.lastInCategory) {\n    //         console.log('last')\n    //         semesterCount = 0;\n    //         noModulesSemesterCount = 0;\n    //         return makeTable();\n    //     } else {\n    //         console.log('called')\n    //         if(props.category === \"capTable\") {\n    //             if(isEmpty(modules)) {\n    //                 console.log('empty and not last')\n    //                 semesterCount += 1;\n    //                 noModulesSemesterCount += 1;\n    //             } else {\n    //                 console.log('not empty and not last')\n    //                 semesterCount += 1;\n    //             }\n    //         } \n    //     }\n\n    //     console.log(semesterCount)\n    //     console.log(noModulesSemesterCount)\n\n\n    //     return makeTable();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n        // console.log(props.lastInCategory)\n        //     if(isEmpty(modules)) {\n        //         console.log(props.category) \n        //         console.log(props.lastInCategory)\n        //         console.log(semesterCount)\n        //         console.log(noModulesSemesterCount)\n        //         if(props.category === \"capTable\" && !props.lastInCategory) {\n        //             console.log('empty and not last')\n        //             semesterCount += 1;\n        //             noModulesSemesterCount += 1;\n        //         } else if (!props.category || props.category === \"tables\" ||\n        //             (semesterCount === noModulesSemesterCount && props.lastInCategory)) {\n        //                 //reset sem and nomodulesem count\n        //                 console.log('empty and last')\n        //                 semesterCount = 0;\n        //                 noModulesSemesterCount = 0;\n        //                 return (\n        //                     <Empty\n        //                         imageStyle={{margin: \"20px\"}}\n        //                         description={\n        //                             <div>\n        //                                 <span>\n        //                                     No data\n        //                                 </span> \n        //                                 <br/>\n        //                                 {!props.category && (\n        //                                     <span>\n        //                                         Add modules by clicking the button below!\n        //                                     </span>\n        //                                 )}  \n        //                             </div>\n        //                             }/>\n        //                 )\n        //         } else {\n        //             console.log(\"do nth add sem\")\n        //             semesterCount += 1\n        //             return null;\n        //         }\n        //     } else if (props.category === \"capTable\" && !props.lastInCategory) {\n        //         console.log('calld')\n        //             semesterCount += 1;\n        //             return makeTable();\n                \n        //     } else {\n        //         console.log('reset')\n        //         semesterCount = 0;\n        //         noModulesSemesterCount = 0;\n        //         return makeTable();\n        //     }\n    \n    \n        if(props.category === \"tables\") {\n            return (\n                <div>\n                    <h3>{props.title}</h3> \n                    <table className=\"table table-hover\">\n                        <tbody>\n                            {makeTable()}\n                        </tbody>\n                    </table>\n                </div>\n            )\n        } else {\n            return (\n                <div className=\"cap-table-header-body\">\n                        {props.displayHeader && (\n                            <h4>{props.isPast ? \"Past Semester\" : \"Future Semester\"}</h4>\n                        )}\n                        {(!props.category || props.displayHeader) &&  \n                            (   \n                                <thead className={props.isPast ? \"cap-table-header\" : \"cap-table-header isPast\"}>\n                                <th>Module Code</th>\n                                <th>Module Title</th>\n                                <th>Modular Credits</th>\n                                <th>{props.isPast ? \"Grade\" : \"Target Grade\"}</th>\n                                {props.isPast && <th>S/U</th>}\n                                {!props.category && <th></th>}\n                                </thead>\n                            )\n                        }\n                            <tbody className=\"cap-table-body\">\n                                {props.category && !isEmpty(modules) && (\n                                    <tr>\n                                        <h6 className=\"table-semester-header\">{props.title}</h6>\n                                    </tr>\n                                )}\n                                {makeTable()}\n                            </tbody>\n                </div>\n            )\n            \n        }\n}\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}