{"ast":null,"code":"var _jsxFileName = \"/Users/frisciliasultan/Documents/Orbital/client/src/Pages/Login/Register.js\";\nimport React, { Component } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { registerUser, loginUser } from \"../../actions/authActions\";\nimport classnames from \"classnames\";\n\nclass Register extends React.Component {\n  constructor() {\n    super();\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.id]: e.target.value\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n\n      const isEmpty = require(\"is-empty\");\n\n      const newUser = {\n        name: this.state.name,\n        email: this.state.email,\n        password: this.state.password,\n        password2: this.state.password2\n      };\n      const userData = {\n        email: this.state.email,\n        password: this.state.password\n      };\n      this.props.registerUser(newUser, this.props.history);\n\n      if (isEmpty(this.props.errors)) {\n        this.props.loginUser(userData, this.props.history);\n\n        if (this.props.auth.isAuthenticated) {\n          this.props.history.push('/dashboard');\n        }\n      }\n    };\n\n    this.state = {\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      password2: \"\",\n      errors: {}\n    };\n  }\n\n  componentDidMount() {\n    // If logged in and user navigates to Register page, should redirect them to dashboard\n    if (this.props.auth.isAuthenticated) {\n      this.props.history.push(\"/dashboard\");\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.errors) {\n      this.setState({\n        errors: nextProps.errors\n      });\n    }\n  }\n\n  render() {\n    const {\n      errors\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"form\", {\n      noValidate: true,\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }, \"Create Account\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"social-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      className: \"social\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fab fa-facebook-f\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 52\n      }\n    })), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      className: \"social\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fab fa-google-plus-g\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 52\n      }\n    })), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      className: \"social\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fab fa-linkedin-in\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 52\n      }\n    }))), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    }, \"or use your email for registration\"), /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.onChange,\n      value: this.state.name,\n      error: errors.name,\n      id: \"name\",\n      type: \"text\",\n      placeholder: \"Name\",\n      className: classnames(\"\", {\n        invalid: errors.name\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        color: \"red\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, errors.name), /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.onChange,\n      value: this.state.email,\n      error: errors.email,\n      id: \"email\",\n      type: \"email\",\n      placeholder: \"Email\",\n      className: classnames(\"\", {\n        invalid: errors.email\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        color: \"red\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }\n    }, errors.email), /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.onChange,\n      value: this.state.password,\n      error: errors.password,\n      id: \"password\",\n      type: \"password\",\n      placeholder: \"Password\",\n      className: classnames(\"\", {\n        invalid: errors.password\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        color: \"red\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }\n    }, errors.password), /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.onChange,\n      value: this.state.password2,\n      error: errors.password2,\n      id: \"password2\",\n      type: \"password\",\n      placeholder: \"Confirm Password\",\n      className: classnames(\"\", {\n        invalid: errors.password2\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        color: \"red\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }\n    }, errors.password2), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }\n    }, \"Sign Up\"));\n  }\n\n}\n\nRegister.propTypes = {\n  registerUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  errors: state.errors\n});\n\nexport default connect(mapStateToProps, {\n  registerUser,\n  loginUser\n})(withRouter(Register));","map":{"version":3,"sources":["/Users/frisciliasultan/Documents/Orbital/client/src/Pages/Login/Register.js"],"names":["React","Component","Link","withRouter","PropTypes","connect","registerUser","loginUser","classnames","Register","constructor","onChange","e","setState","target","id","value","onSubmit","preventDefault","isEmpty","require","newUser","name","state","email","password","password2","userData","props","history","errors","auth","isAuthenticated","push","componentDidMount","componentWillReceiveProps","nextProps","render","invalid","color","propTypes","func","isRequired","object","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { registerUser, loginUser } from \"../../actions/authActions\";\nimport classnames from \"classnames\";\n\nclass Register extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n          name: \"\",\n          email: \"\",\n          password: \"\",\n          password2: \"\",\n          errors: {}\n        };\n      }\n    \n    componentDidMount() {\n    // If logged in and user navigates to Register page, should redirect them to dashboard\n        if (this.props.auth.isAuthenticated) {\n            this.props.history.push(\"/dashboard\");\n        }\n    }\n  \n    componentWillReceiveProps(nextProps) {\n        if (nextProps.errors) {\n          this.setState({\n            errors: nextProps.errors\n          });\n        }\n      }\n\n    onChange = e => {\n        this.setState({ [e.target.id]: e.target.value });\n      };\n\n    onSubmit = e => {\n      e.preventDefault();\n\n      const isEmpty = require(\"is-empty\");\n\n      const newUser = {\n          name: this.state.name,\n          email: this.state.email,\n          password: this.state.password,\n          password2: this.state.password2\n          };\n      \n      const userData = {\n        email: this.state.email,\n        password: this.state.password\n      };  \n\n      this.props.registerUser(newUser, this.props.history); \n      if(isEmpty(this.props.errors)){\n        this.props.loginUser(userData, this.props.history);\n        if(this.props.auth.isAuthenticated) {\n          this.props.history.push('/dashboard')\n        }\n      }\n      };\n\n    render() {\n        const { errors } = this.state;\n        return (\n            <form noValidate onSubmit={this.onSubmit}>\n                <h1>Create Account</h1>\n                <div className=\"social-container\">\n                    <a href=\"#\" className=\"social\"><i className=\"fab fa-facebook-f\"></i></a>\n                    <a href=\"#\" className=\"social\"><i className=\"fab fa-google-plus-g\"></i></a>\n                    <a href=\"#\" className=\"social\"><i className=\"fab fa-linkedin-in\"></i></a>\n                </div>\n                <span>or use your email for registration</span>\n                \n                <input\n                  onChange={this.onChange}\n                  value={this.state.name}\n                  error={errors.name}\n                  id=\"name\"\n                  type=\"text\"\n                  placeholder=\"Name\"\n                  className={classnames(\"\", {\n                    invalid: errors.name\n                  })}\n                />\n                <span style={{color: \"red\"}}>{errors.name}</span>\n                \n                <input\n                  onChange={this.onChange}\n                  value={this.state.email}\n                  error={errors.email}\n                  id=\"email\"\n                  type=\"email\"\n                  placeholder=\"Email\"\n                  className={classnames(\"\", {\n                    invalid: errors.email\n                  })}\n                />\n                <span style={{color: \"red\"}}>{errors.email}</span>\n\n                <input\n                  onChange={this.onChange}\n                  value={this.state.password}\n                  error={errors.password}\n                  id=\"password\"\n                  type=\"password\"\n                  placeholder=\"Password\"\n                  className={classnames(\"\", {\n                    invalid: errors.password\n                  })}\n                />\n                <span style={{color: \"red\"}}>{errors.password}</span>\n\n                <input\n                  onChange={this.onChange}\n                  value={this.state.password2}\n                  error={errors.password2}\n                  id=\"password2\"\n                  type=\"password\"\n                  placeholder=\"Confirm Password\"\n                  className={classnames(\"\", {\n                    invalid: errors.password2\n                  })}\n                />\n                <span style={{color: \"red\"}}>{errors.password2}</span>\n\n                <button type=\"submit\" >Sign Up</button>\n            </form>\n       );\n    }\n    \n}\n\nRegister.propTypes = {\n  registerUser: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  errors: state.errors\n});\n\nexport default connect(\n  mapStateToProps,\n  { registerUser, loginUser }\n)(withRouter(Register));"]},"metadata":{},"sourceType":"module"}