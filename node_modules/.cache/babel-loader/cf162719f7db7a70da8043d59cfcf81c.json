{"ast":null,"code":"var _jsxFileName = \"/Users/frisciliasultan/Documents/Orbitalhosting/src/Pages/Module Selection Page/Table Content.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { generateOptions } from \"../../utils/commonFunctions\";\nimport { Select, Empty } from \"antd\";\nimport isEmpty from \"is-empty\";\nlet semesterCount = 0;\nlet noModulesSemesterCount = 0;\nexport const TableContent = props => {\n  let totalMCs = 0; // const [modules, setModules] = useState();\n\n  const filteredModules = props.module.filter((object, i) => object.location === props.title); //update modules\n  // useEffect(() => {\n  //     const filteredModules =  props.module.filter((object, i) => object.location === props.title);\n  //     setModules(filteredModules);\n  // }, [props.module])\n\n  const makeTable = () => {\n    console.log(props.module);\n    return modules.map((object, i) => {\n      const {\n        moduleCode,\n        title,\n        moduleCredit\n      } = object;\n\n      if (props.category === \"tables\") {\n        const desc = title.replace(/ /g, '-');\n        const link = `https://nusmods.com/modules/${moduleCode}/${desc}`;\n        totalMCs += Number(object.moduleCredit);\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          key: moduleCode,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"a\", {\n          href: link,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          className: \"text-white text-decoration-none\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 37\n          }\n        }, moduleCode), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 37\n          }\n        }, title), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 37\n          }\n        }, moduleCredit + 'MCs')));\n      } else {\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          className: \"cap-table-row\",\n          key: moduleCode,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 29\n          }\n        }, moduleCode), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 29\n          }\n        }, title), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 29\n          }\n        }, moduleCredit + 'MCs'), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(Select, {\n          name: object,\n          value: object.grade || object.targetGrade,\n          onChange: (value, object) => props.handleGradeClick(value, object, props.isPast),\n          style: {\n            width: 70\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 33\n          }\n        }, generateOptions(props.gradeList, \"grade\", object))), props.isPast && /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"input\", {\n          className: \"checkbox\",\n          type: \"checkbox\",\n          checked: object.SU,\n          onChange: e => props.handleCheckboxChange(e, object),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 33\n          }\n        })), !props.category && /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          className: \"fa fa-trash-alt fa-border\",\n          style: {\n            cursor: \"pointer\"\n          },\n          onClick: () => props.setModuleLocation({\n            id: object.moduleCode\n          }, null, null, props.module),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 37\n          }\n        })));\n      }\n    });\n  };\n\n  const handleEmpty = () => {\n    console.log(modules);\n\n    if (isEmpty(modules)) {\n      if (props.category === \"capTable\") {\n        semesterCount += 1;\n        noModulesSemesterCount += 1;\n      } else {\n        return /*#__PURE__*/React.createElement(Empty, {\n          imageStyle: {\n            margin: \"20px\"\n          },\n          description: /*#__PURE__*/React.createElement(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 29\n            }\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 33\n            }\n          }, \"No data\"), /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 33\n            }\n          }), /*#__PURE__*/React.createElement(\"span\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 33\n            }\n          }, \"Add modules by clicking the button below!\")),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 21\n          }\n        });\n      }\n    } else if (props.lastInCategory) {} else {\n      semesterCount += 1;\n      return makeTable();\n    }\n  };\n\n  if (props.category === \"tables\") {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }\n    }, props.title), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table table-hover\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 21\n      }\n    }, handleEmpty())));\n  } else {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cap-table-header-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 13\n      }\n    }, props.displayHeader && /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 25\n      }\n    }, props.isPast ? \"Past Semester\" : \"Future Semester\"), (!props.category || props.displayHeader) && /*#__PURE__*/React.createElement(\"thead\", {\n      className: props.isPast ? \"cap-table-header\" : \"cap-table-header isPast\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 29\n      }\n    }, \"Module Code\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 29\n      }\n    }, \"Module Title\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 29\n      }\n    }, \"Modular Credits\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 29\n      }\n    }, props.isPast ? \"Grade\" : \"Target Grade\"), props.isPast && /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 46\n      }\n    }, \"S/U\"), !props.category && /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 49\n      }\n    })), /*#__PURE__*/React.createElement(\"tbody\", {\n      className: \"cap-table-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 25\n      }\n    }, props.category && !isEmpty(modules) && /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      className: \"table-semester-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 37\n      }\n    }, props.title)), isEmpty(modules) && !props.category ? /*#__PURE__*/React.createElement(Empty, {\n      imageStyle: {\n        margin: \"20px\"\n      },\n      description: /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 45\n        }\n      }, \"No data\"), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 45\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 45\n        }\n      }, \"Add modules by clicking the button below!\")),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 35\n      }\n    }) : makeTable()));\n  }\n};","map":{"version":3,"sources":["/Users/frisciliasultan/Documents/Orbitalhosting/src/Pages/Module Selection Page/Table Content.js"],"names":["React","useState","useEffect","generateOptions","Select","Empty","isEmpty","semesterCount","noModulesSemesterCount","TableContent","props","totalMCs","filteredModules","module","filter","object","i","location","title","makeTable","console","log","modules","map","moduleCode","moduleCredit","category","desc","replace","link","Number","grade","targetGrade","value","handleGradeClick","isPast","width","gradeList","SU","e","handleCheckboxChange","cursor","setModuleLocation","id","handleEmpty","margin","lastInCategory","displayHeader"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { generateOptions } from \"../../utils/commonFunctions\";\nimport { Select, Empty } from \"antd\";\nimport isEmpty from \"is-empty\"\n\n\nlet semesterCount = 0;\nlet noModulesSemesterCount = 0;\nexport const TableContent = (props) => {\n    let totalMCs = 0;\n    // const [modules, setModules] = useState();\n    const filteredModules =  props.module.filter((object, i) => object.location === props.title);\n    \n    //update modules\n    // useEffect(() => {\n    //     const filteredModules =  props.module.filter((object, i) => object.location === props.title);\n    //     setModules(filteredModules);\n    // }, [props.module])\n\n    const makeTable = () => {\n        console.log(props.module)\n        return (\n            modules.map((object, i) => {\n                const {moduleCode, title, moduleCredit} = object;\n\n                if(props.category === \"tables\") {\n                    const desc = title.replace(/ /g, '-');\n                    const link = `https://nusmods.com/modules/${moduleCode}/${desc}`\n                    totalMCs += Number(object.moduleCredit);\n\n                    return (\n                        <tr key={moduleCode} >\n                            <a href={link} \n                                target=\"_blank\" \n                                rel=\"noopener noreferrer\"\n                                className=\"text-white text-decoration-none\">\n                                    <td>{moduleCode}</td>\n                                    <td>{title}</td>\n                                    <td>{moduleCredit + 'MCs'}</td>\n                            </a>\n                        </tr>\n                    )   \n                } else {\n                    return (\n                        \n                        <tr className=\"cap-table-row\" key={moduleCode}>\n                            <td>{moduleCode}</td>\n                            <td>{title}</td>\n                            <td>{moduleCredit + 'MCs'}</td>\n                            <td>\n                                <Select \n                                    name={object}\n                                    value={object.grade || object.targetGrade} \n                                    onChange={(value, object) => props.handleGradeClick(value, object, props.isPast)}\n                                    style={{ width: 70 }}>\n                                    {generateOptions(props.gradeList, \"grade\", object)}\n                                </Select>\n                            </td>\n                            {props.isPast && \n                            <td>\n                                <input\n                                    className=\"checkbox\"\n                                    type=\"checkbox\"\n                                    checked={object.SU}\n                                    onChange={(e) => props.handleCheckboxChange(e, object)}/>\n                            </td>}\n                            {!props.category && (\n                                <td>\n                                    <i  \n                                        className=\"fa fa-trash-alt fa-border\"\n                                        style={{cursor: \"pointer\"}}\n                                        onClick={() => props.setModuleLocation({id: object.moduleCode}, null, null, props.module)} />\n                                </td>\n                            )}\n                        </tr>\n                    )\n                }     \n            })\n        )\n    }\n\n    const handleEmpty = () => {\n        console.log(modules)\n        if(isEmpty(modules)) {\n            if(props.category === \"capTable\") {\n                semesterCount += 1;\n                noModulesSemesterCount += 1;\n            } else {\n                return (\n                    <Empty\n                        imageStyle={{margin: \"20px\"}}\n                        description={\n                            <div>\n                                <span>\n                                    No data\n                                </span> \n                                <br/>\n                                <span>\n                                    Add modules by clicking the button below!\n                                </span>\n                            </div>\n                            }/>\n                )\n            }\n        } else if(props.lastInCategory) {\n\n        } else {\n            semesterCount += 1;\n            return makeTable();\n        }\n    }\n \n    if(props.category === \"tables\") {\n        return (\n            <div>\n                <h3>{props.title}</h3> \n                <table className=\"table table-hover\">\n                    <tbody>\n                        {handleEmpty()}\n                    </tbody>\n                </table>\n            </div>\n        )\n    } else {\n        return (\n            <div className=\"cap-table-header-body\">\n                    {props.displayHeader && (\n                        <h4>{props.isPast ? \"Past Semester\" : \"Future Semester\"}</h4>\n                    )}\n                    {(!props.category || props.displayHeader) &&  \n                        (   \n                            <thead className={props.isPast ? \"cap-table-header\" : \"cap-table-header isPast\"}>\n                            <th>Module Code</th>\n                            <th>Module Title</th>\n                            <th>Modular Credits</th>\n                            <th>{props.isPast ? \"Grade\" : \"Target Grade\"}</th>\n                            {props.isPast && <th>S/U</th>}\n                            {!props.category && <th></th>}\n                            </thead>\n                        )\n                    }\n                        <tbody className=\"cap-table-body\">\n                            {props.category && !isEmpty(modules) && (\n                                <tr>\n                                    <h6 className=\"table-semester-header\">{props.title}</h6>\n                                </tr>\n                            )}\n                            {isEmpty(modules) && !props.category\n                                ? <Empty\n                                    imageStyle={{margin: \"20px\"}}\n                                    description={\n                                        <div>\n                                            <span>\n                                                No data\n                                            </span> \n                                            <br/>\n                                            <span>\n                                                Add modules by clicking the button below!\n                                            </span>\n                                        </div>\n                                        }/>\n                                : makeTable()}\n                        </tbody>\n            </div>\n        )\n        \n    }\n}\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}